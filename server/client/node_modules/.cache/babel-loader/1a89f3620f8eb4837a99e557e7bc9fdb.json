{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useHistory}from'react-router-dom';import{useTable,useSortBy,useFilters}from'react-table';import Select from'react-select';import'./ITEquipment.css';// Helper function to set default values\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const setDefaultValues=function(data){let defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'------';return Object.fromEntries(Object.entries(data).map(_ref=>{let[key,value]=_ref;if(value===''||value===null){if(['date_installation','fin_garantie','date_achat','date_livraison','date_sortie'].includes(key)){return[key,null];// Set date fields to null if empty\n}else{return[key,defaultValue];// Set other fields to default value\n}}return[key,value];}));};const formatDate=dateString=>{if(!dateString||dateString==='------')return'';const date=new Date(dateString);return date.toISOString().split('T')[0];};const ITEquipment=()=>{const[itEquipments,setITEquipments]=useState([]);const[options,setOptions]=useState({});const[newEquipment,setNewEquipment]=useState({categorie:'',marque:'',model:'',code_materiel:'',serie:'',code_localisation:'',code_entite:'',date_installation:'',fin_garantie:'',statut:'',type_acquisition:'',date_achat:'',date_livraison:'',fournisseur:'',numero_facture:'',prix_achat:'',numero_appel_offre:'',numero_livraison:'',cout_maintenance:'',emploi_principal:'',niveau_criticite:'',sla:'',date_sortie:'',commentaire:''});const[isEditing,setIsEditing]=useState(false);const[currentEquipment,setCurrentEquipment]=useState(null);const history=useHistory();const[currentPage,setCurrentPage]=useState(1);const[rowsPerPage,setRowsPerPage]=useState(10);const[filters,setFilters]=useState({});const[sortBy,setSortBy]=useState([]);const[allITEquipments,setAllITEquipments]=useState([]);const[selectedFilters,setSelectedFilters]=useState({});const fetchITEquipments=async()=>{try{const token=localStorage.getItem('token');if(!token){console.error('No token found');return;}const response=await axios.get('http://localhost:5000/api/it-equipments',{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Response from server:',response.data);setITEquipments(response.data.equipments);setAllITEquipments(response.data.equipments);setOptions(response.data.uniqueValues);}catch(error){console.error('Error fetching IT Equipments:',error.message);}};useEffect(()=>{fetchITEquipments();},[]);const handleAddEquipment=async()=>{if(newEquipment.statut==='REFORME'&&!newEquipment.date_sortie){alert('Le champ \"date sortie\" doit √™tre rempli, si le statut est \"REFORME\".');return;}try{const formattedEquipment=setDefaultValues(newEquipment);console.log('Adding equipment:',formattedEquipment);const response=await axios.post('http://localhost:5000/api/it-equipments',formattedEquipment,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Response from server:',response.data);fetchITEquipments();setNewEquipment({categorie:'',marque:'',model:'',code_materiel:'',serie:'',code_localisation:'',code_entite:'',date_installation:'',fin_garantie:'',statut:'',type_acquisition:'',date_achat:'',date_livraison:'',fournisseur:'',numero_facture:'',prix_achat:'',numero_appel_offre:'',numero_livraison:'',cout_maintenance:'',emploi_principal:'',niveau_criticite:'',sla:'',date_sortie:'',commentaire:''});console.log('Equipment added successfully');}catch(error){console.error('Error adding IT Equipment:',error);}};const handleDeleteEquipment=async id=>{try{const token=localStorage.getItem('token');if(!token){console.error('No token found');return;}console.log('Token:',token);await axios.delete(\"http://localhost:5000/api/it-equipments/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setITEquipments(prevEquipments=>prevEquipments.filter(equipment=>equipment.id!==id));console.log('Equipment deleted successfully');}catch(error){console.error('Error deleting IT Equipment:',error.message);}};const handleModifyEquipment=equipment=>{setIsEditing(true);setCurrentEquipment({...equipment,date_installation:formatDate(equipment.date_installation),fin_garantie:formatDate(equipment.fin_garantie),date_achat:formatDate(equipment.date_achat),date_livraison:formatDate(equipment.date_livraison),date_sortie:formatDate(equipment.date_sortie)});};const handleUpdateEquipment=async()=>{if(currentEquipment.statut==='REFORME'&&!currentEquipment.date_sortie){alert('The \"date sortie\" field must be filled if the statut is \"reforme\".');return;}try{const token=localStorage.getItem('token');if(!token){console.error('No token found');return;}console.log('Token:',token);const filteredEquipment=setDefaultValues(currentEquipment);console.log('Updating equipment:',filteredEquipment);const response=await axios.put(\"http://localhost:5000/api/it-equipments/\".concat(currentEquipment.id),filteredEquipment,{headers:{Authorization:\"Bearer \".concat(token)}});console.log('Response from server:',response.data);fetchITEquipments();setIsEditing(false);setCurrentEquipment(null);console.log('Equipment updated successfully');}catch(error){console.error('Error updating IT Equipment:',error.message);}};const handleChange=e=>{const{name,value}=e.target;if(isEditing){setCurrentEquipment(prevState=>({...prevState,[name]:value}));}else{setNewEquipment(prevState=>({...prevState,[name]:value}));}};const handleFilterChange=(id,value)=>{setFilters(prevFilters=>({...prevFilters,[id]:value}));setSelectedFilters(prevSelected=>({...prevSelected,[id]:value.map(val=>val.label)}));};const filteredAndSortedData=React.useMemo(()=>{let filteredData=itEquipments;Object.keys(filters).forEach(id=>{if(filters[id]&&filters[id].length>0){filteredData=filteredData.filter(row=>{const rowValue=row[id]!=null?row[id].toString().toLowerCase():'';const filterValue=Array.isArray(filters[id])?filters[id][0].value:filters[id].value;if(filterValue!=null){return rowValue.includes(filterValue.toString().toLowerCase());}return true;});}});if(sortBy.length){const sortByField=sortBy[0];filteredData=filteredData.sort((a,b)=>{const aValue=a[sortByField.id]!=null?a[sortByField.id].toString():'';const bValue=b[sortByField.id]!=null?b[sortByField.id].toString():'';if(aValue<bValue){return sortByField.desc?1:-1;}if(aValue>bValue){return sortByField.desc?-1:1;}return 0;});}return filteredData;},[itEquipments,filters,sortBy,currentPage,rowsPerPage]);const currentRows=React.useMemo(()=>{const indexOfLastRow=currentPage*rowsPerPage;const indexOfFirstRow=indexOfLastRow-rowsPerPage;return filteredAndSortedData.slice(indexOfFirstRow,indexOfLastRow);},[filteredAndSortedData,currentPage,rowsPerPage]);const data=React.useMemo(()=>currentRows.map((equipment,index)=>({rowNumber:(currentPage-1)*rowsPerPage+index+1,actions:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"modify-button\",onClick:()=>handleModifyEquipment(equipment),children:\"Modify\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>handleDeleteEquipment(equipment.id),children:\"Delete\"})]}),...equipment})),[currentRows,currentPage,rowsPerPage]);const columns=React.useMemo(()=>[{Header:'#',accessor:(row,i)=>(currentPage-1)*rowsPerPage+i+1,disableFilters:true,disableSortBy:true},{Header:'Actions',accessor:'actions',disableFilters:true,disableSortBy:true},...Object.keys(newEquipment).map(key=>({Header:key.replace(/_/g,' '),accessor:key,Filter:_ref2=>{let{column:{filterValue,setFilter,id}}=_ref2;return/*#__PURE__*/_jsx(Select,{value:filterValue||'',onChange:value=>handleFilterChange(id,value),options:options[id]?options[id].map(option=>({label:option.label,value:option.value})):[],isMulti:true,placeholder:\"Filter by \".concat(key.replace(/_/g,' ')),className:\"filter-select\"});}}))],[newEquipment,currentPage,rowsPerPage,options,selectedFilters]);const handlePageNumberClick=pageNumber=>{setCurrentPage(pageNumber);};const handleDeleteFilter=(filterKey,value)=>{setFilters(prev=>{const updatedFilters={...prev};updatedFilters[filterKey]=updatedFilters[filterKey].filter(val=>val.label!==value);if(updatedFilters[filterKey].length===0){delete updatedFilters[filterKey];}return updatedFilters;});setSelectedFilters(prevSelected=>{const updatedSelected={...prevSelected};updatedSelected[filterKey]=updatedSelected[filterKey].filter(val=>val!==value);if(updatedSelected[filterKey].length===0){delete updatedSelected[filterKey];}return updatedSelected;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"it-equipment-manager\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"itequipment-modify-back-button\",onClick:()=>history.goBack(),children:\"\\u21A9\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"IT Equipment Manager\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-equipment\",children:[/*#__PURE__*/_jsx(\"table\",{className:\"form-table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"categorie\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"categorie\",value:isEditing?currentEquipment.categorie:newEquipment.categorie,options:options.categorie||[],onChange:handleChange,placeholder:\"Entrer/Selectionner la categorie\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"marque\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"marque\",value:isEditing?currentEquipment.marque:newEquipment.marque,options:options.marque||[],onChange:handleChange,placeholder:\"Entrer/Selectionner la marque\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"model\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"model\",value:isEditing?currentEquipment.model:newEquipment.model,options:options.model||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le model\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"code materiel\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"code_materiel\",value:isEditing?currentEquipment.code_materiel:newEquipment.code_materiel,options:options.code_materiel||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le code de materiel\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"serie\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"serie\",value:isEditing?currentEquipment.serie:newEquipment.serie,options:options.serie||[],onChange:handleChange,placeholder:\"Entrer/Selectionner la serie\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"code localisation\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"code_localisation\",value:isEditing?currentEquipment.code_localisation:newEquipment.code_localisation,options:options.code_localisation||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le code de localisation\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"code entite\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"code_entite\",value:isEditing?currentEquipment.code_entite:newEquipment.code_entite,options:options.code_entite||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le code d'entite\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"date installation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date_installation\",value:isEditing?formatDate(currentEquipment.date_installation):newEquipment.date_installation,onChange:handleChange,className:\"input-field\",placeholder:\"YYYY-MM-DD\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"fin garantie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fin_garantie\",value:isEditing?formatDate(currentEquipment.fin_garantie):newEquipment.fin_garantie,onChange:handleChange,className:\"input-field\",placeholder:\"YYYY-MM-DD\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"statut\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"statut\",value:isEditing?currentEquipment.statut:newEquipment.statut,options:options.statut||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le status\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"type acquisition\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"type_acquisition\",value:isEditing?currentEquipment.type_acquisition:newEquipment.type_acquisition,options:options.type_acquisition||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le type d'acquisition\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"date achat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date_achat\",value:isEditing?formatDate(currentEquipment.date_achat):newEquipment.date_achat,onChange:handleChange,className:\"input-field\",placeholder:\"YYYY-MM-DD\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"date livraison\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date_livraison\",value:isEditing?formatDate(currentEquipment.date_livraison):newEquipment.date_livraison,onChange:handleChange,className:\"input-field\",placeholder:\"YYYY-MM-DD\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"fournisseur\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"fournisseur\",value:isEditing?currentEquipment.fournisseur:newEquipment.fournisseur,options:options.fournisseur||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le fournisseur\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"numero facture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"numero_facture\",value:isEditing?currentEquipment.numero_facture:newEquipment.numero_facture,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer le numero de facture\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"prix achat\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"prix_achat\",value:isEditing?currentEquipment.prix_achat:newEquipment.prix_achat,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer le prix achat\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"numero appel offre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"numero_appel_offre\",value:isEditing?currentEquipment.numero_appel_offre:newEquipment.numero_appel_offre,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer le numero d'appel offre\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"numero livraison\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"numero_livraison\",value:isEditing?currentEquipment.numero_livraison:newEquipment.numero_livraison,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer le numero de livraison\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"cout maintenance\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cout_maintenance\",value:isEditing?currentEquipment.cout_maintenance:newEquipment.cout_maintenance,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer le cout de maintenance\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"emploi principal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"emploi_principal\",value:isEditing?currentEquipment.emploi_principal:newEquipment.emploi_principal,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer l'emploi principale\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"niveau criticite\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"niveau_criticite\",value:isEditing?currentEquipment.niveau_criticite:newEquipment.niveau_criticite,options:options.niveau_criticite||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le niveau de criticit\\xE9\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"sla\"}),/*#__PURE__*/_jsx(CustomDropdown,{name:\"sla\",value:isEditing?currentEquipment.sla:newEquipment.sla,options:options.sla||[],onChange:handleChange,placeholder:\"Entrer/Selectionner le SLA\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"date sortie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date_sortie\",value:isEditing?formatDate(currentEquipment.date_sortie):newEquipment.date_sortie,onChange:handleChange,className:\"input-field\",placeholder:\"YYYY-MM-DD\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"commentaire\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"commentaire\",value:isEditing?currentEquipment.commentaire:newEquipment.commentaire,onChange:handleChange,className:\"input-field\",placeholder:\"Entrer un commentaire\"})]})]})]})}),isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateEquipment,children:\"Update Equipment\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAddEquipment,children:\"Add Equipment\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itequipment-view-selected-filters-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filtres S\\xE9lectionn\\xE9s:\"}),Object.keys(selectedFilters).map(filterKey=>selectedFilters[filterKey].map((filterValue,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"itequipment-view-filter-chip\",children:[\"\".concat(filterKey,\": \").concat(filterValue),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteFilter(filterKey,filterValue),children:\"x\"})]},\"\".concat(filterKey,\"-\").concat(index))))]}),/*#__PURE__*/_jsx(\"div\",{className:\"itequipment-view-table-container\",children:/*#__PURE__*/_jsx(Table,{columns:columns,data:data})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageNumberClick(1),disabled:currentPage===1,children:'<<'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageNumberClick(currentPage-1),disabled:currentPage===1,children:'Pr√©c√©dent'}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",currentPage,\" of \",Math.ceil(filteredAndSortedData.length/rowsPerPage)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageNumberClick(currentPage+1),disabled:currentPage===Math.ceil(filteredAndSortedData.length/rowsPerPage),children:'Suivant'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageNumberClick(Math.ceil(filteredAndSortedData.length/rowsPerPage)),disabled:currentPage===Math.ceil(filteredAndSortedData.length/rowsPerPage),children:'>>'}),/*#__PURE__*/_jsxs(\"select\",{value:rowsPerPage,onChange:e=>setRowsPerPage(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"Show 10\"}),/*#__PURE__*/_jsx(\"option\",{value:25,children:\"Show 25\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"Show 50\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"Show 100\"})]})]})]});};const Table=_ref3=>{let{columns,data}=_ref3;const{getTableProps,getTableBodyProps,headerGroups,rows,prepareRow}=useTable({columns,data},useFilters,useSortBy);return/*#__PURE__*/_jsxs(\"table\",{...getTableProps(),className:\"data-table itequipment-view-data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(headerGroup=>/*#__PURE__*/_jsx(\"tr\",{...headerGroup.getHeaderGroupProps(),children:headerGroup.headers.map(column=>/*#__PURE__*/_jsx(\"th\",{...column.getHeaderProps(column.getSortByToggleProps()),children:/*#__PURE__*/_jsxs(\"div\",{children:[column.render('Header'),/*#__PURE__*/_jsx(\"span\",{children:column.isSorted?column.isSortedDesc?' üîΩ':' üîº':''}),/*#__PURE__*/_jsx(\"div\",{children:column.canFilter?column.render('Filter'):null})]})}))}))}),/*#__PURE__*/_jsx(\"tbody\",{...getTableBodyProps(),children:rows.map((row,index)=>{prepareRow(row);return/*#__PURE__*/_jsx(\"tr\",{...row.getRowProps(),className:index%2===0?\"itequipment-view-row-even\":\"itequipment-view-row-odd\",children:row.cells.map(cell=>/*#__PURE__*/_jsx(\"td\",{...cell.getCellProps(),children:cell.render('Cell')}))});})})]});};const CustomDropdown=_ref4=>{let{name,value,options,onChange,placeholder}=_ref4;const[isOpen,setIsOpen]=useState(false);const[inputValue,setInputValue]=useState(value);const handleSelect=option=>{setInputValue(option.label);onChange({target:{name,value:option.value}});setIsOpen(false);};const handleInputChange=e=>{setInputValue(e.target.value);onChange({target:{name,value:e.target.value}});setIsOpen(true);};const filteredOptions=options.filter(option=>option.label.toLowerCase().includes(inputValue.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:name,value:inputValue,onChange:handleInputChange,placeholder:placeholder,onClick:()=>setIsOpen(!isOpen)}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-arrow\",onClick:()=>setIsOpen(!isOpen),children:\"\\u25BC\"}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",children:filteredOptions.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-option\",children:\"No options available\"}):filteredOptions.map((option,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-option\",onClick:()=>handleSelect(option),children:option.label},index))})]});};export default ITEquipment;","map":{"version":3,"names":["React","useState","useEffect","axios","useHistory","useTable","useSortBy","useFilters","Select","jsx","_jsx","jsxs","_jsxs","setDefaultValues","data","defaultValue","arguments","length","undefined","Object","fromEntries","entries","map","_ref","key","value","includes","formatDate","dateString","date","Date","toISOString","split","ITEquipment","itEquipments","setITEquipments","options","setOptions","newEquipment","setNewEquipment","categorie","marque","model","code_materiel","serie","code_localisation","code_entite","date_installation","fin_garantie","statut","type_acquisition","date_achat","date_livraison","fournisseur","numero_facture","prix_achat","numero_appel_offre","numero_livraison","cout_maintenance","emploi_principal","niveau_criticite","sla","date_sortie","commentaire","isEditing","setIsEditing","currentEquipment","setCurrentEquipment","history","currentPage","setCurrentPage","rowsPerPage","setRowsPerPage","filters","setFilters","sortBy","setSortBy","allITEquipments","setAllITEquipments","selectedFilters","setSelectedFilters","fetchITEquipments","token","localStorage","getItem","console","error","response","get","headers","Authorization","concat","log","equipments","uniqueValues","message","handleAddEquipment","alert","formattedEquipment","post","handleDeleteEquipment","id","delete","prevEquipments","filter","equipment","handleModifyEquipment","handleUpdateEquipment","filteredEquipment","put","handleChange","e","name","target","prevState","handleFilterChange","prevFilters","prevSelected","val","label","filteredAndSortedData","useMemo","filteredData","keys","forEach","row","rowValue","toString","toLowerCase","filterValue","Array","isArray","sortByField","sort","a","b","aValue","bValue","desc","currentRows","indexOfLastRow","indexOfFirstRow","slice","index","rowNumber","actions","children","className","onClick","columns","Header","accessor","i","disableFilters","disableSortBy","replace","Filter","_ref2","column","setFilter","onChange","option","isMulti","placeholder","handlePageNumberClick","pageNumber","handleDeleteFilter","filterKey","prev","updatedFilters","updatedSelected","goBack","CustomDropdown","type","Table","disabled","Math","ceil","Number","_ref3","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","canFilter","getRowProps","cells","cell","getCellProps","_ref4","isOpen","setIsOpen","inputValue","setInputValue","handleSelect","handleInputChange","filteredOptions"],"sources":["C:/Users/khald/OneDrive/Desktop/Project_gestion_initial/server/client/src/components/Dashboard/ITEquipment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useTable, useSortBy, useFilters } from 'react-table';\r\nimport Select from 'react-select';\r\nimport './ITEquipment.css';\r\n\r\n// Helper function to set default values\r\nconst setDefaultValues = (data, defaultValue = '------') => {\r\n  return Object.fromEntries(\r\n    Object.entries(data).map(([key, value]) => {\r\n      if (value === '' || value === null) {\r\n        if (['date_installation', 'fin_garantie', 'date_achat', 'date_livraison', 'date_sortie'].includes(key)) {\r\n          return [key, null];  // Set date fields to null if empty\r\n        } else {\r\n          return [key, defaultValue];  // Set other fields to default value\r\n        }\r\n      }\r\n      return [key, value];\r\n    })\r\n  );\r\n};\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString || dateString === '------') return '';\r\n  const date = new Date(dateString);\r\n  return date.toISOString().split('T')[0];\r\n};\r\n\r\nconst ITEquipment = () => {\r\n  const [itEquipments, setITEquipments] = useState([]);\r\n  const [options, setOptions] = useState({});\r\n  const [newEquipment, setNewEquipment] = useState({\r\n    categorie: '',\r\n    marque: '',\r\n    model: '',\r\n    code_materiel: '',\r\n    serie: '',\r\n    code_localisation: '',\r\n    code_entite: '',\r\n    date_installation: '',\r\n    fin_garantie: '',\r\n    statut: '',\r\n    type_acquisition: '',\r\n    date_achat: '',\r\n    date_livraison: '',\r\n    fournisseur: '',\r\n    numero_facture: '',\r\n    prix_achat: '',\r\n    numero_appel_offre: '',\r\n    numero_livraison: '',\r\n    cout_maintenance: '',\r\n    emploi_principal: '',\r\n    niveau_criticite: '',\r\n    sla: '',\r\n    date_sortie: '',\r\n    commentaire: '',\r\n  });\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [currentEquipment, setCurrentEquipment] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  const [filters, setFilters] = useState({});\r\n  const [sortBy, setSortBy] = useState([]);\r\n  const [allITEquipments, setAllITEquipments] = useState([]);\r\n  const [selectedFilters, setSelectedFilters] = useState({});\r\n\r\n  const fetchITEquipments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('No token found');\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get('http://localhost:5000/api/it-equipments', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      console.log('Response from server:', response.data);\r\n      setITEquipments(response.data.equipments);\r\n      setAllITEquipments(response.data.equipments);\r\n      setOptions(response.data.uniqueValues);\r\n    } catch (error) {\r\n      console.error('Error fetching IT Equipments:', error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchITEquipments();\r\n  }, []);\r\n\r\n  const handleAddEquipment = async () => {\r\n    if (newEquipment.statut === 'REFORME' && !newEquipment.date_sortie) {\r\n      alert('Le champ \"date sortie\" doit √™tre rempli, si le statut est \"REFORME\".');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formattedEquipment = setDefaultValues(newEquipment);\r\n      console.log('Adding equipment:', formattedEquipment);\r\n      const response = await axios.post('http://localhost:5000/api/it-equipments', formattedEquipment, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      console.log('Response from server:', response.data);\r\n\r\n      fetchITEquipments();\r\n      setNewEquipment({\r\n        categorie: '',\r\n        marque: '',\r\n        model: '',\r\n        code_materiel: '',\r\n        serie: '',\r\n        code_localisation: '',\r\n        code_entite: '',\r\n        date_installation: '',\r\n        fin_garantie: '',\r\n        statut: '',\r\n        type_acquisition: '',\r\n        date_achat: '',\r\n        date_livraison: '',\r\n        fournisseur: '',\r\n        numero_facture: '',\r\n        prix_achat: '',\r\n        numero_appel_offre: '',\r\n        numero_livraison: '',\r\n        cout_maintenance: '',\r\n        emploi_principal: '',\r\n        niveau_criticite: '',\r\n        sla: '',\r\n        date_sortie: '',\r\n        commentaire: '',\r\n      });\r\n      console.log('Equipment added successfully');\r\n    } catch (error) {\r\n      console.error('Error adding IT Equipment:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteEquipment = async (id) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('No token found');\r\n        return;\r\n      }\r\n\r\n      console.log('Token:', token);\r\n\r\n      await axios.delete(`http://localhost:5000/api/it-equipments/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      setITEquipments((prevEquipments) => prevEquipments.filter(equipment => equipment.id !== id));\r\n      console.log('Equipment deleted successfully');\r\n    } catch (error) {\r\n      console.error('Error deleting IT Equipment:', error.message);\r\n    }\r\n  };\r\n\r\n  const handleModifyEquipment = (equipment) => {\r\n    setIsEditing(true);\r\n    setCurrentEquipment({\r\n      ...equipment,\r\n      date_installation: formatDate(equipment.date_installation),\r\n      fin_garantie: formatDate(equipment.fin_garantie),\r\n      date_achat: formatDate(equipment.date_achat),\r\n      date_livraison: formatDate(equipment.date_livraison),\r\n      date_sortie: formatDate(equipment.date_sortie),\r\n    });\r\n  };\r\n\r\n  const handleUpdateEquipment = async () => {\r\n    if (currentEquipment.statut === 'REFORME' && !currentEquipment.date_sortie) {\r\n      alert('The \"date sortie\" field must be filled if the statut is \"reforme\".');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('No token found');\r\n        return;\r\n      }\r\n\r\n      console.log('Token:', token);\r\n\r\n      const filteredEquipment = setDefaultValues(currentEquipment);\r\n      console.log('Updating equipment:', filteredEquipment);\r\n      const response = await axios.put(`http://localhost:5000/api/it-equipments/${currentEquipment.id}`, filteredEquipment, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      console.log('Response from server:', response.data);\r\n      fetchITEquipments();\r\n      setIsEditing(false);\r\n      setCurrentEquipment(null);\r\n      console.log('Equipment updated successfully');\r\n    } catch (error) {\r\n      console.error('Error updating IT Equipment:', error.message);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (isEditing) {\r\n      setCurrentEquipment(prevState => ({\r\n        ...prevState,\r\n        [name]: value,\r\n      }));\r\n    } else {\r\n      setNewEquipment(prevState => ({\r\n        ...prevState,\r\n        [name]: value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (id, value) => {\r\n    setFilters(prevFilters => ({\r\n      ...prevFilters,\r\n      [id]: value,\r\n    }));\r\n    setSelectedFilters(prevSelected => ({\r\n      ...prevSelected,\r\n      [id]: value.map(val => val.label),\r\n    }));\r\n  };\r\n\r\n  const filteredAndSortedData = React.useMemo(() => {\r\n    let filteredData = itEquipments;\r\n\r\n    Object.keys(filters).forEach(id => {\r\n      if (filters[id] && filters[id].length > 0) {\r\n        filteredData = filteredData.filter(row => {\r\n          const rowValue = row[id] != null ? row[id].toString().toLowerCase() : '';\r\n          const filterValue = Array.isArray(filters[id]) ? filters[id][0].value : filters[id].value;\r\n\r\n          if (filterValue != null) {\r\n            return rowValue.includes(filterValue.toString().toLowerCase());\r\n          }\r\n          return true;\r\n        });\r\n      }\r\n    });\r\n\r\n    if (sortBy.length) {\r\n      const sortByField = sortBy[0];\r\n      filteredData = filteredData.sort((a, b) => {\r\n        const aValue = a[sortByField.id] != null ? a[sortByField.id].toString() : '';\r\n        const bValue = b[sortByField.id] != null ? b[sortByField.id].toString() : '';\r\n        if (aValue < bValue) {\r\n          return sortByField.desc ? 1 : -1;\r\n        }\r\n        if (aValue > bValue) {\r\n          return sortByField.desc ? -1 : 1;\r\n        }\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    return filteredData;\r\n  }, [itEquipments, filters, sortBy, currentPage, rowsPerPage]);\r\n\r\n  const currentRows = React.useMemo(() => {\r\n    const indexOfLastRow = currentPage * rowsPerPage;\r\n    const indexOfFirstRow = indexOfLastRow - rowsPerPage;\r\n    return filteredAndSortedData.slice(indexOfFirstRow, indexOfLastRow);\r\n  }, [filteredAndSortedData, currentPage, rowsPerPage]);\r\n\r\n  const data = React.useMemo(() => currentRows.map((equipment, index) => ({\r\n    rowNumber: (currentPage - 1) * rowsPerPage + index + 1,\r\n    actions: (\r\n      <div>\r\n        <button className=\"modify-button\" onClick={() => handleModifyEquipment(equipment)}>Modify</button>\r\n        <button className=\"delete-button\" onClick={() => handleDeleteEquipment(equipment.id)}>Delete</button>\r\n      </div>\r\n    ),\r\n    ...equipment,\r\n  })), [currentRows, currentPage, rowsPerPage]);\r\n\r\n  const columns = React.useMemo(() => [\r\n    {\r\n      Header: '#',\r\n      accessor: (row, i) => (currentPage - 1) * rowsPerPage + i + 1,\r\n      disableFilters: true,\r\n      disableSortBy: true,\r\n    },\r\n    {\r\n      Header: 'Actions',\r\n      accessor: 'actions',\r\n      disableFilters: true,\r\n      disableSortBy: true,\r\n    },\r\n    ...Object.keys(newEquipment).map((key) => ({\r\n      Header: key.replace(/_/g, ' '),\r\n      accessor: key,\r\n      Filter: ({ column: { filterValue, setFilter, id } }) => (\r\n        <Select\r\n          value={filterValue || ''}\r\n          onChange={(value) => handleFilterChange(id, value)}\r\n          options={options[id] ? options[id].map(option => ({ label: option.label, value: option.value })) : []}\r\n          isMulti\r\n          placeholder={`Filter by ${key.replace(/_/g, ' ')}`}\r\n          className=\"filter-select\"\r\n        />\r\n      ),\r\n    })),\r\n  ], [newEquipment, currentPage, rowsPerPage, options, selectedFilters]);\r\n\r\n  const handlePageNumberClick = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  const handleDeleteFilter = (filterKey, value) => {\r\n    setFilters(prev => {\r\n      const updatedFilters = { ...prev };\r\n      updatedFilters[filterKey] = updatedFilters[filterKey].filter(val => val.label !== value);\r\n      if (updatedFilters[filterKey].length === 0) {\r\n        delete updatedFilters[filterKey];\r\n      }\r\n      return updatedFilters;\r\n    });\r\n\r\n    setSelectedFilters(prevSelected => {\r\n      const updatedSelected = { ...prevSelected };\r\n      updatedSelected[filterKey] = updatedSelected[filterKey].filter(val => val !== value);\r\n      if (updatedSelected[filterKey].length === 0) {\r\n        delete updatedSelected[filterKey];\r\n      }\r\n      return updatedSelected;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"it-equipment-manager\">\r\n      <button className=\"itequipment-modify-back-button\" onClick={() => history.goBack()}>\r\n        &#x21a9;\r\n      </button>\r\n      <h1>IT Equipment Manager</h1>\r\n      <div className=\"add-equipment\">\r\n        <table className=\"form-table\">\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <label>categorie</label>\r\n                <CustomDropdown\r\n                  name=\"categorie\"\r\n                  value={isEditing ? currentEquipment.categorie : newEquipment.categorie}\r\n                  options={options.categorie || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner la categorie\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>marque</label>\r\n                <CustomDropdown\r\n                  name=\"marque\"\r\n                  value={isEditing ? currentEquipment.marque : newEquipment.marque}\r\n                  options={options.marque || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner la marque\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>model</label>\r\n                <CustomDropdown\r\n                  name=\"model\"\r\n                  value={isEditing ? currentEquipment.model : newEquipment.model}\r\n                  options={options.model || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le model\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>code materiel</label>\r\n                <CustomDropdown\r\n                  name=\"code_materiel\"\r\n                  value={isEditing ? currentEquipment.code_materiel : newEquipment.code_materiel}\r\n                  options={options.code_materiel || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le code de materiel\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>serie</label>\r\n                <CustomDropdown\r\n                  name=\"serie\"\r\n                  value={isEditing ? currentEquipment.serie : newEquipment.serie}\r\n                  options={options.serie || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner la serie\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>code localisation</label>\r\n                <CustomDropdown\r\n                  name=\"code_localisation\"\r\n                  value={isEditing ? currentEquipment.code_localisation : newEquipment.code_localisation}\r\n                  options={options.code_localisation || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le code de localisation\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>code entite</label>\r\n                <CustomDropdown\r\n                  name=\"code_entite\"\r\n                  value={isEditing ? currentEquipment.code_entite : newEquipment.code_entite}\r\n                  options={options.code_entite || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le code d'entite\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>date installation</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date_installation\"\r\n                  value={isEditing ? formatDate(currentEquipment.date_installation) : newEquipment.date_installation}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>fin garantie</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"fin_garantie\"\r\n                  value={isEditing ? formatDate(currentEquipment.fin_garantie) : newEquipment.fin_garantie}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>statut</label>\r\n                <CustomDropdown\r\n                  name=\"statut\"\r\n                  value={isEditing ? currentEquipment.statut : newEquipment.statut}\r\n                  options={options.statut || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le status\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>type acquisition</label>\r\n                <CustomDropdown\r\n                  name=\"type_acquisition\"\r\n                  value={isEditing ? currentEquipment.type_acquisition : newEquipment.type_acquisition}\r\n                  options={options.type_acquisition || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le type d'acquisition\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>date achat</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date_achat\"\r\n                  value={isEditing ? formatDate(currentEquipment.date_achat) : newEquipment.date_achat}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>date livraison</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date_livraison\"\r\n                  value={isEditing ? formatDate(currentEquipment.date_livraison) : newEquipment.date_livraison}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>fournisseur</label>\r\n                <CustomDropdown\r\n                  name=\"fournisseur\"\r\n                  value={isEditing ? currentEquipment.fournisseur : newEquipment.fournisseur}\r\n                  options={options.fournisseur || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le fournisseur\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>numero facture</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"numero_facture\"\r\n                  value={isEditing ? currentEquipment.numero_facture : newEquipment.numero_facture}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer le numero de facture\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>prix achat</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"prix_achat\"\r\n                  value={isEditing ? currentEquipment.prix_achat : newEquipment.prix_achat}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer le prix achat\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>numero appel offre</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"numero_appel_offre\"\r\n                  value={isEditing ? currentEquipment.numero_appel_offre : newEquipment.numero_appel_offre}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer le numero d'appel offre\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>numero livraison</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"numero_livraison\"\r\n                  value={isEditing ? currentEquipment.numero_livraison : newEquipment.numero_livraison}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer le numero de livraison\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>cout maintenance</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cout_maintenance\"\r\n                  value={isEditing ? currentEquipment.cout_maintenance : newEquipment.cout_maintenance}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer le cout de maintenance\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>emploi principal</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"emploi_principal\"\r\n                  value={isEditing ? currentEquipment.emploi_principal : newEquipment.emploi_principal}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer l'emploi principale\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>niveau criticite</label>\r\n                <CustomDropdown\r\n                  name=\"niveau_criticite\"\r\n                  value={isEditing ? currentEquipment.niveau_criticite : newEquipment.niveau_criticite}\r\n                  options={options.niveau_criticite || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le niveau de criticit√©\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>sla</label>\r\n                <CustomDropdown\r\n                  name=\"sla\"\r\n                  value={isEditing ? currentEquipment.sla : newEquipment.sla}\r\n                  options={options.sla || []}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Entrer/Selectionner le SLA\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>date sortie</label>\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date_sortie\"\r\n                  value={isEditing ? formatDate(currentEquipment.date_sortie) : newEquipment.date_sortie}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <label>commentaire</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"commentaire\"\r\n                  value={isEditing ? currentEquipment.commentaire : newEquipment.commentaire}\r\n                  onChange={handleChange}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Entrer un commentaire\"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        {isEditing ? (\r\n          <button onClick={handleUpdateEquipment}>Update Equipment</button>\r\n        ) : (\r\n          <button onClick={handleAddEquipment}>Add Equipment</button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"itequipment-view-selected-filters-container\">\r\n        <h3>Filtres S√©lectionn√©s:</h3>\r\n        {Object.keys(selectedFilters).map((filterKey) => (\r\n          selectedFilters[filterKey].map((filterValue, index) => (\r\n            <span key={`${filterKey}-${index}`} className=\"itequipment-view-filter-chip\">\r\n              {`${filterKey}: ${filterValue}`} <button onClick={() => handleDeleteFilter(filterKey, filterValue)}>x</button>\r\n            </span>\r\n          ))\r\n        ))}\r\n      </div>\r\n      <div className=\"itequipment-view-table-container\">\r\n      <Table columns={columns} data={data} />\r\n    </div>\r\n    <div className=\"pagination-controls\">\r\n      <button onClick={() => handlePageNumberClick(1)} disabled={currentPage === 1}>{'<<'}</button>\r\n      <button onClick={() => handlePageNumberClick(currentPage - 1)} disabled={currentPage === 1}>{'Pr√©c√©dent'}</button>\r\n      <span>\r\n        Page {currentPage} of {Math.ceil(filteredAndSortedData.length / rowsPerPage)}\r\n      </span>\r\n      <button onClick={() => handlePageNumberClick(currentPage + 1)} disabled={currentPage === Math.ceil(filteredAndSortedData.length / rowsPerPage)}>{'Suivant'}</button>\r\n      <button onClick={() => handlePageNumberClick(Math.ceil(filteredAndSortedData.length / rowsPerPage))} disabled={currentPage === Math.ceil(filteredAndSortedData.length / rowsPerPage)}>{'>>'}</button>\r\n      <select value={rowsPerPage} onChange={(e) => setRowsPerPage(Number(e.target.value))}>\r\n        <option value={10}>Show 10</option>\r\n        <option value={25}>Show 25</option>\r\n        <option value={50}>Show 50</option>\r\n        <option value={100}>Show 100</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n);\r\n};\r\n\r\nconst Table = ({ columns, data }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n    },\r\n    useFilters,\r\n    useSortBy\r\n  );\r\n\r\n  return (\r\n    <table {...getTableProps()} className=\"data-table itequipment-view-data-table\">\r\n      <thead>\r\n        {headerGroups.map(headerGroup => (\r\n          <tr {...headerGroup.getHeaderGroupProps()}>\r\n            {headerGroup.headers.map(column => (\r\n              <th {...column.getHeaderProps(column.getSortByToggleProps())}>\r\n                <div>\r\n                  {column.render('Header')}\r\n                  <span>\r\n                    {column.isSorted\r\n                      ? column.isSortedDesc\r\n                        ? ' üîΩ'\r\n                        : ' üîº'\r\n                      : ''}\r\n                  </span>\r\n                  <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                </div>\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </thead>\r\n      <tbody {...getTableBodyProps()}>\r\n        {rows.map((row, index) => {\r\n          prepareRow(row);\r\n          return (\r\n            <tr {...row.getRowProps()} className={index % 2 === 0 ? \"itequipment-view-row-even\" : \"itequipment-view-row-odd\"}>\r\n              {row.cells.map(cell => (\r\n                <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n              ))}\r\n            </tr>\r\n          );\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst CustomDropdown = ({ name, value, options, onChange, placeholder }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [inputValue, setInputValue] = useState(value);\r\n\r\n  const handleSelect = (option) => {\r\n    setInputValue(option.label);\r\n    onChange({ target: { name, value: option.value } });\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n    onChange({ target: { name, value: e.target.value } });\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const filteredOptions = options.filter(option =>\r\n    option.label.toLowerCase().includes(inputValue.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"dropdown-container\">\r\n      <input\r\n        type=\"text\"\r\n        name={name}\r\n        value={inputValue}\r\n        onChange={handleInputChange}\r\n        placeholder={placeholder}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n      />\r\n      <div className=\"dropdown-arrow\" onClick={() => setIsOpen(!isOpen)}>\r\n        ‚ñº\r\n      </div>\r\n      {isOpen && (\r\n        <div className=\"dropdown-menu\">\r\n          {filteredOptions.length === 0 ? (\r\n            <div className=\"dropdown-option\">No options available</div>\r\n          ) : (\r\n            filteredOptions.map((option, index) => (\r\n              <div key={index} className=\"dropdown-option\" onClick={() => handleSelect(option)}>\r\n                {option.label}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ITEquipment;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,aAAa,CAC7D,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,mBAAmB,CAE1B;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,gBAAgB,CAAG,QAAAA,CAACC,IAAI,CAA8B,IAA5B,CAAAC,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,QAAQ,CACrD,MAAO,CAAAG,MAAM,CAACC,WAAW,CACvBD,MAAM,CAACE,OAAO,CAACP,IAAI,CAAC,CAACQ,GAAG,CAACC,IAAA,EAAkB,IAAjB,CAACC,GAAG,CAAEC,KAAK,CAAC,CAAAF,IAAA,CACpC,GAAIE,KAAK,GAAK,EAAE,EAAIA,KAAK,GAAK,IAAI,CAAE,CAClC,GAAI,CAAC,mBAAmB,CAAE,cAAc,CAAE,YAAY,CAAE,gBAAgB,CAAE,aAAa,CAAC,CAACC,QAAQ,CAACF,GAAG,CAAC,CAAE,CACtG,MAAO,CAACA,GAAG,CAAE,IAAI,CAAC,CAAG;AACvB,CAAC,IAAM,CACL,MAAO,CAACA,GAAG,CAAET,YAAY,CAAC,CAAG;AAC/B,CACF,CACA,MAAO,CAACS,GAAG,CAAEC,KAAK,CAAC,CACrB,CAAC,CACH,CAAC,CACH,CAAC,CAED,KAAM,CAAAE,UAAU,CAAIC,UAAU,EAAK,CACjC,GAAI,CAACA,UAAU,EAAIA,UAAU,GAAK,QAAQ,CAAE,MAAO,EAAE,CACrD,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACjC,MAAO,CAAAC,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACzC,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACmC,OAAO,CAAEC,UAAU,CAAC,CAAGpC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAACqC,YAAY,CAAEC,eAAe,CAAC,CAAGtC,QAAQ,CAAC,CAC/CuC,SAAS,CAAE,EAAE,CACbC,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EAAE,CACTC,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,EAAE,CACTC,iBAAiB,CAAE,EAAE,CACrBC,WAAW,CAAE,EAAE,CACfC,iBAAiB,CAAE,EAAE,CACrBC,YAAY,CAAE,EAAE,CAChBC,MAAM,CAAE,EAAE,CACVC,gBAAgB,CAAE,EAAE,CACpBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,WAAW,CAAE,EAAE,CACfC,cAAc,CAAE,EAAE,CAClBC,UAAU,CAAE,EAAE,CACdC,kBAAkB,CAAE,EAAE,CACtBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,GAAG,CAAE,EAAE,CACPC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EACf,CAAC,CAAC,CAEF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGhE,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACiE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlE,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAAmE,OAAO,CAAGhE,UAAU,CAAC,CAAC,CAE5B,KAAM,CAACiE,WAAW,CAAEC,cAAc,CAAC,CAAGrE,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACsE,WAAW,CAAEC,cAAc,CAAC,CAAGvE,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAACwE,OAAO,CAAEC,UAAU,CAAC,CAAGzE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAAC0E,MAAM,CAAEC,SAAS,CAAC,CAAG3E,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAC4E,eAAe,CAAEC,kBAAkB,CAAC,CAAG7E,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC8E,eAAe,CAAEC,kBAAkB,CAAC,CAAG/E,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1D,KAAM,CAAAgF,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVG,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAC/B,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApF,KAAK,CAACqF,GAAG,CAAC,yCAAyC,CAAE,CAC1EC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYT,KAAK,CAChC,CACF,CAAC,CAAC,CACFG,OAAO,CAACO,GAAG,CAAC,uBAAuB,CAAEL,QAAQ,CAACzE,IAAI,CAAC,CACnDqB,eAAe,CAACoD,QAAQ,CAACzE,IAAI,CAAC+E,UAAU,CAAC,CACzCf,kBAAkB,CAACS,QAAQ,CAACzE,IAAI,CAAC+E,UAAU,CAAC,CAC5CxD,UAAU,CAACkD,QAAQ,CAACzE,IAAI,CAACgF,YAAY,CAAC,CACxC,CAAE,MAAOR,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAACS,OAAO,CAAC,CAC/D,CACF,CAAC,CAED7F,SAAS,CAAC,IAAM,CACd+E,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAe,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI1D,YAAY,CAACW,MAAM,GAAK,SAAS,EAAI,CAACX,YAAY,CAACwB,WAAW,CAAE,CAClEmC,KAAK,CAAC,sEAAsE,CAAC,CAC7E,OACF,CAEA,GAAI,CACF,KAAM,CAAAC,kBAAkB,CAAGrF,gBAAgB,CAACyB,YAAY,CAAC,CACzD+C,OAAO,CAACO,GAAG,CAAC,mBAAmB,CAAEM,kBAAkB,CAAC,CACpD,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAApF,KAAK,CAACgG,IAAI,CAAC,yCAAyC,CAAED,kBAAkB,CAAE,CAC/FT,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CAAC,CAAC,CACFC,OAAO,CAACO,GAAG,CAAC,uBAAuB,CAAEL,QAAQ,CAACzE,IAAI,CAAC,CAEnDmE,iBAAiB,CAAC,CAAC,CACnB1C,eAAe,CAAC,CACdC,SAAS,CAAE,EAAE,CACbC,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EAAE,CACTC,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,EAAE,CACTC,iBAAiB,CAAE,EAAE,CACrBC,WAAW,CAAE,EAAE,CACfC,iBAAiB,CAAE,EAAE,CACrBC,YAAY,CAAE,EAAE,CAChBC,MAAM,CAAE,EAAE,CACVC,gBAAgB,CAAE,EAAE,CACpBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,WAAW,CAAE,EAAE,CACfC,cAAc,CAAE,EAAE,CAClBC,UAAU,CAAE,EAAE,CACdC,kBAAkB,CAAE,EAAE,CACtBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,GAAG,CAAE,EAAE,CACPC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EACf,CAAC,CAAC,CACFsB,OAAO,CAACO,GAAG,CAAC,8BAA8B,CAAC,CAC7C,CAAE,MAAON,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAAc,qBAAqB,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC1C,GAAI,CACF,KAAM,CAAAnB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVG,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAC/B,OACF,CAEAD,OAAO,CAACO,GAAG,CAAC,QAAQ,CAAEV,KAAK,CAAC,CAE5B,KAAM,CAAA/E,KAAK,CAACmG,MAAM,4CAAAX,MAAA,CAA4CU,EAAE,EAAI,CAClEZ,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYT,KAAK,CAChC,CACF,CAAC,CAAC,CACF/C,eAAe,CAAEoE,cAAc,EAAKA,cAAc,CAACC,MAAM,CAACC,SAAS,EAAIA,SAAS,CAACJ,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC5FhB,OAAO,CAACO,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CAAE,MAAON,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAACS,OAAO,CAAC,CAC9D,CACF,CAAC,CAED,KAAM,CAAAW,qBAAqB,CAAID,SAAS,EAAK,CAC3CxC,YAAY,CAAC,IAAI,CAAC,CAClBE,mBAAmB,CAAC,CAClB,GAAGsC,SAAS,CACZ1D,iBAAiB,CAAEpB,UAAU,CAAC8E,SAAS,CAAC1D,iBAAiB,CAAC,CAC1DC,YAAY,CAAErB,UAAU,CAAC8E,SAAS,CAACzD,YAAY,CAAC,CAChDG,UAAU,CAAExB,UAAU,CAAC8E,SAAS,CAACtD,UAAU,CAAC,CAC5CC,cAAc,CAAEzB,UAAU,CAAC8E,SAAS,CAACrD,cAAc,CAAC,CACpDU,WAAW,CAAEnC,UAAU,CAAC8E,SAAS,CAAC3C,WAAW,CAC/C,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA6C,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAIzC,gBAAgB,CAACjB,MAAM,GAAK,SAAS,EAAI,CAACiB,gBAAgB,CAACJ,WAAW,CAAE,CAC1EmC,KAAK,CAAC,oEAAoE,CAAC,CAC3E,OACF,CAEA,GAAI,CACF,KAAM,CAAAf,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVG,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAC,CAC/B,OACF,CAEAD,OAAO,CAACO,GAAG,CAAC,QAAQ,CAAEV,KAAK,CAAC,CAE5B,KAAM,CAAA0B,iBAAiB,CAAG/F,gBAAgB,CAACqD,gBAAgB,CAAC,CAC5DmB,OAAO,CAACO,GAAG,CAAC,qBAAqB,CAAEgB,iBAAiB,CAAC,CACrD,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAApF,KAAK,CAAC0G,GAAG,4CAAAlB,MAAA,CAA4CzB,gBAAgB,CAACmC,EAAE,EAAIO,iBAAiB,CAAE,CACpHnB,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYT,KAAK,CAChC,CACF,CAAC,CAAC,CACFG,OAAO,CAACO,GAAG,CAAC,uBAAuB,CAAEL,QAAQ,CAACzE,IAAI,CAAC,CACnDmE,iBAAiB,CAAC,CAAC,CACnBhB,YAAY,CAAC,KAAK,CAAC,CACnBE,mBAAmB,CAAC,IAAI,CAAC,CACzBkB,OAAO,CAACO,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CAAE,MAAON,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAACS,OAAO,CAAC,CAC9D,CACF,CAAC,CAED,KAAM,CAAAe,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEvF,KAAM,CAAC,CAAGsF,CAAC,CAACE,MAAM,CAChC,GAAIjD,SAAS,CAAE,CACbG,mBAAmB,CAAC+C,SAAS,GAAK,CAChC,GAAGA,SAAS,CACZ,CAACF,IAAI,EAAGvF,KACV,CAAC,CAAC,CAAC,CACL,CAAC,IAAM,CACLc,eAAe,CAAC2E,SAAS,GAAK,CAC5B,GAAGA,SAAS,CACZ,CAACF,IAAI,EAAGvF,KACV,CAAC,CAAC,CAAC,CACL,CACF,CAAC,CAED,KAAM,CAAA0F,kBAAkB,CAAGA,CAACd,EAAE,CAAE5E,KAAK,GAAK,CACxCiD,UAAU,CAAC0C,WAAW,GAAK,CACzB,GAAGA,WAAW,CACd,CAACf,EAAE,EAAG5E,KACR,CAAC,CAAC,CAAC,CACHuD,kBAAkB,CAACqC,YAAY,GAAK,CAClC,GAAGA,YAAY,CACf,CAAChB,EAAE,EAAG5E,KAAK,CAACH,GAAG,CAACgG,GAAG,EAAIA,GAAG,CAACC,KAAK,CAClC,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAGxH,KAAK,CAACyH,OAAO,CAAC,IAAM,CAChD,GAAI,CAAAC,YAAY,CAAGxF,YAAY,CAE/Bf,MAAM,CAACwG,IAAI,CAAClD,OAAO,CAAC,CAACmD,OAAO,CAACvB,EAAE,EAAI,CACjC,GAAI5B,OAAO,CAAC4B,EAAE,CAAC,EAAI5B,OAAO,CAAC4B,EAAE,CAAC,CAACpF,MAAM,CAAG,CAAC,CAAE,CACzCyG,YAAY,CAAGA,YAAY,CAAClB,MAAM,CAACqB,GAAG,EAAI,CACxC,KAAM,CAAAC,QAAQ,CAAGD,GAAG,CAACxB,EAAE,CAAC,EAAI,IAAI,CAAGwB,GAAG,CAACxB,EAAE,CAAC,CAAC0B,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG,EAAE,CACxE,KAAM,CAAAC,WAAW,CAAGC,KAAK,CAACC,OAAO,CAAC1D,OAAO,CAAC4B,EAAE,CAAC,CAAC,CAAG5B,OAAO,CAAC4B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC5E,KAAK,CAAGgD,OAAO,CAAC4B,EAAE,CAAC,CAAC5E,KAAK,CAEzF,GAAIwG,WAAW,EAAI,IAAI,CAAE,CACvB,MAAO,CAAAH,QAAQ,CAACpG,QAAQ,CAACuG,WAAW,CAACF,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAChE,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,GAAIrD,MAAM,CAAC1D,MAAM,CAAE,CACjB,KAAM,CAAAmH,WAAW,CAAGzD,MAAM,CAAC,CAAC,CAAC,CAC7B+C,YAAY,CAAGA,YAAY,CAACW,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACzC,KAAM,CAAAC,MAAM,CAAGF,CAAC,CAACF,WAAW,CAAC/B,EAAE,CAAC,EAAI,IAAI,CAAGiC,CAAC,CAACF,WAAW,CAAC/B,EAAE,CAAC,CAAC0B,QAAQ,CAAC,CAAC,CAAG,EAAE,CAC5E,KAAM,CAAAU,MAAM,CAAGF,CAAC,CAACH,WAAW,CAAC/B,EAAE,CAAC,EAAI,IAAI,CAAGkC,CAAC,CAACH,WAAW,CAAC/B,EAAE,CAAC,CAAC0B,QAAQ,CAAC,CAAC,CAAG,EAAE,CAC5E,GAAIS,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAAL,WAAW,CAACM,IAAI,CAAG,CAAC,CAAG,CAAC,CAAC,CAClC,CACA,GAAIF,MAAM,CAAGC,MAAM,CAAE,CACnB,MAAO,CAAAL,WAAW,CAACM,IAAI,CAAG,CAAC,CAAC,CAAG,CAAC,CAClC,CACA,MAAO,EAAC,CACV,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAhB,YAAY,CACrB,CAAC,CAAE,CAACxF,YAAY,CAAEuC,OAAO,CAAEE,MAAM,CAAEN,WAAW,CAAEE,WAAW,CAAC,CAAC,CAE7D,KAAM,CAAAoE,WAAW,CAAG3I,KAAK,CAACyH,OAAO,CAAC,IAAM,CACtC,KAAM,CAAAmB,cAAc,CAAGvE,WAAW,CAAGE,WAAW,CAChD,KAAM,CAAAsE,eAAe,CAAGD,cAAc,CAAGrE,WAAW,CACpD,MAAO,CAAAiD,qBAAqB,CAACsB,KAAK,CAACD,eAAe,CAAED,cAAc,CAAC,CACrE,CAAC,CAAE,CAACpB,qBAAqB,CAAEnD,WAAW,CAAEE,WAAW,CAAC,CAAC,CAErD,KAAM,CAAAzD,IAAI,CAAGd,KAAK,CAACyH,OAAO,CAAC,IAAMkB,WAAW,CAACrH,GAAG,CAAC,CAACmF,SAAS,CAAEsC,KAAK,IAAM,CACtEC,SAAS,CAAE,CAAC3E,WAAW,CAAG,CAAC,EAAIE,WAAW,CAAGwE,KAAK,CAAG,CAAC,CACtDE,OAAO,cACLrI,KAAA,QAAAsI,QAAA,eACExI,IAAA,WAAQyI,SAAS,CAAC,eAAe,CAACC,OAAO,CAAEA,CAAA,GAAM1C,qBAAqB,CAACD,SAAS,CAAE,CAAAyC,QAAA,CAAC,QAAM,CAAQ,CAAC,cAClGxI,IAAA,WAAQyI,SAAS,CAAC,eAAe,CAACC,OAAO,CAAEA,CAAA,GAAMhD,qBAAqB,CAACK,SAAS,CAACJ,EAAE,CAAE,CAAA6C,QAAA,CAAC,QAAM,CAAQ,CAAC,EAClG,CACN,CACD,GAAGzC,SACL,CAAC,CAAC,CAAC,CAAE,CAACkC,WAAW,CAAEtE,WAAW,CAAEE,WAAW,CAAC,CAAC,CAE7C,KAAM,CAAA8E,OAAO,CAAGrJ,KAAK,CAACyH,OAAO,CAAC,IAAM,CAClC,CACE6B,MAAM,CAAE,GAAG,CACXC,QAAQ,CAAEA,CAAC1B,GAAG,CAAE2B,CAAC,GAAK,CAACnF,WAAW,CAAG,CAAC,EAAIE,WAAW,CAAGiF,CAAC,CAAG,CAAC,CAC7DC,cAAc,CAAE,IAAI,CACpBC,aAAa,CAAE,IACjB,CAAC,CACD,CACEJ,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,SAAS,CACnBE,cAAc,CAAE,IAAI,CACpBC,aAAa,CAAE,IACjB,CAAC,CACD,GAAGvI,MAAM,CAACwG,IAAI,CAACrF,YAAY,CAAC,CAAChB,GAAG,CAAEE,GAAG,GAAM,CACzC8H,MAAM,CAAE9H,GAAG,CAACmI,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAC9BJ,QAAQ,CAAE/H,GAAG,CACboI,MAAM,CAAEC,KAAA,MAAC,CAAEC,MAAM,CAAE,CAAE7B,WAAW,CAAE8B,SAAS,CAAE1D,EAAG,CAAE,CAAC,CAAAwD,KAAA,oBACjDnJ,IAAA,CAACF,MAAM,EACLiB,KAAK,CAAEwG,WAAW,EAAI,EAAG,CACzB+B,QAAQ,CAAGvI,KAAK,EAAK0F,kBAAkB,CAACd,EAAE,CAAE5E,KAAK,CAAE,CACnDW,OAAO,CAAEA,OAAO,CAACiE,EAAE,CAAC,CAAGjE,OAAO,CAACiE,EAAE,CAAC,CAAC/E,GAAG,CAAC2I,MAAM,GAAK,CAAE1C,KAAK,CAAE0C,MAAM,CAAC1C,KAAK,CAAE9F,KAAK,CAAEwI,MAAM,CAACxI,KAAM,CAAC,CAAC,CAAC,CAAG,EAAG,CACtGyI,OAAO,MACPC,WAAW,cAAAxE,MAAA,CAAenE,GAAG,CAACmI,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAAG,CACnDR,SAAS,CAAC,eAAe,CAC1B,CAAC,EAEN,CAAC,CAAC,CAAC,CACJ,CAAE,CAAC7G,YAAY,CAAE+B,WAAW,CAAEE,WAAW,CAAEnC,OAAO,CAAE2C,eAAe,CAAC,CAAC,CAEtE,KAAM,CAAAqF,qBAAqB,CAAIC,UAAU,EAAK,CAC5C/F,cAAc,CAAC+F,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAGA,CAACC,SAAS,CAAE9I,KAAK,GAAK,CAC/CiD,UAAU,CAAC8F,IAAI,EAAI,CACjB,KAAM,CAAAC,cAAc,CAAG,CAAE,GAAGD,IAAK,CAAC,CAClCC,cAAc,CAACF,SAAS,CAAC,CAAGE,cAAc,CAACF,SAAS,CAAC,CAAC/D,MAAM,CAACc,GAAG,EAAIA,GAAG,CAACC,KAAK,GAAK9F,KAAK,CAAC,CACxF,GAAIgJ,cAAc,CAACF,SAAS,CAAC,CAACtJ,MAAM,GAAK,CAAC,CAAE,CAC1C,MAAO,CAAAwJ,cAAc,CAACF,SAAS,CAAC,CAClC,CACA,MAAO,CAAAE,cAAc,CACvB,CAAC,CAAC,CAEFzF,kBAAkB,CAACqC,YAAY,EAAI,CACjC,KAAM,CAAAqD,eAAe,CAAG,CAAE,GAAGrD,YAAa,CAAC,CAC3CqD,eAAe,CAACH,SAAS,CAAC,CAAGG,eAAe,CAACH,SAAS,CAAC,CAAC/D,MAAM,CAACc,GAAG,EAAIA,GAAG,GAAK7F,KAAK,CAAC,CACpF,GAAIiJ,eAAe,CAACH,SAAS,CAAC,CAACtJ,MAAM,GAAK,CAAC,CAAE,CAC3C,MAAO,CAAAyJ,eAAe,CAACH,SAAS,CAAC,CACnC,CACA,MAAO,CAAAG,eAAe,CACxB,CAAC,CAAC,CACJ,CAAC,CAED,mBACE9J,KAAA,QAAKuI,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACnCxI,IAAA,WAAQyI,SAAS,CAAC,gCAAgC,CAACC,OAAO,CAAEA,CAAA,GAAMhF,OAAO,CAACuG,MAAM,CAAC,CAAE,CAAAzB,QAAA,CAAC,QAEpF,CAAQ,CAAC,cACTxI,IAAA,OAAAwI,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BtI,KAAA,QAAKuI,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BxI,IAAA,UAAOyI,SAAS,CAAC,YAAY,CAAAD,QAAA,cAC3BtI,KAAA,UAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,WAAW,CAChBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAAC1B,SAAS,CAAGF,YAAY,CAACE,SAAU,CACvEJ,OAAO,CAAEA,OAAO,CAACI,SAAS,EAAI,EAAG,CACjCwH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,kCAAkC,CAC/C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,QAAQ,CACbvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACzB,MAAM,CAAGH,YAAY,CAACG,MAAO,CACjEL,OAAO,CAAEA,OAAO,CAACK,MAAM,EAAI,EAAG,CAC9BuH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,+BAA+B,CAC5C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,OAAK,CAAO,CAAC,cACpBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,OAAO,CACZvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACxB,KAAK,CAAGJ,YAAY,CAACI,KAAM,CAC/DN,OAAO,CAAEA,OAAO,CAACM,KAAK,EAAI,EAAG,CAC7BsH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,8BAA8B,CAC3C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5BxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,eAAe,CACpBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACvB,aAAa,CAAGL,YAAY,CAACK,aAAc,CAC/EP,OAAO,CAAEA,OAAO,CAACO,aAAa,EAAI,EAAG,CACrCqH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,yCAAyC,CACtD,CAAC,EACA,CAAC,EACH,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,OAAK,CAAO,CAAC,cACpBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,OAAO,CACZvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACtB,KAAK,CAAGN,YAAY,CAACM,KAAM,CAC/DR,OAAO,CAAEA,OAAO,CAACQ,KAAK,EAAI,EAAG,CAC7BoH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,8BAA8B,CAC3C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,mBAAiB,CAAO,CAAC,cAChCxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,mBAAmB,CACxBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACrB,iBAAiB,CAAGP,YAAY,CAACO,iBAAkB,CACvFT,OAAO,CAAEA,OAAO,CAACS,iBAAiB,EAAI,EAAG,CACzCmH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,6CAA6C,CAC1D,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,aAAa,CAClBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACpB,WAAW,CAAGR,YAAY,CAACQ,WAAY,CAC3EV,OAAO,CAAEA,OAAO,CAACU,WAAW,EAAI,EAAG,CACnCkH,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,sCAAsC,CACnD,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,mBAAiB,CAAO,CAAC,cAChCxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,mBAAmB,CACxBvF,KAAK,CAAEuC,SAAS,CAAGrC,UAAU,CAACuC,gBAAgB,CAACnB,iBAAiB,CAAC,CAAGT,YAAY,CAACS,iBAAkB,CACnGiH,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,YAAY,CACzB,CAAC,EACA,CAAC,EACH,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,cAAY,CAAO,CAAC,cAC3BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,cAAc,CACnBvF,KAAK,CAAEuC,SAAS,CAAGrC,UAAU,CAACuC,gBAAgB,CAAClB,YAAY,CAAC,CAAGV,YAAY,CAACU,YAAa,CACzFgH,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,YAAY,CACzB,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,QAAQ,CACbvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACjB,MAAM,CAAGX,YAAY,CAACW,MAAO,CACjEb,OAAO,CAAEA,OAAO,CAACa,MAAM,EAAI,EAAG,CAC9B+G,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,+BAA+B,CAC5C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,kBAAkB,CACvBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAAChB,gBAAgB,CAAGZ,YAAY,CAACY,gBAAiB,CACrFd,OAAO,CAAEA,OAAO,CAACc,gBAAgB,EAAI,EAAG,CACxC8G,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,2CAA2C,CACxD,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,YAAY,CACjBvF,KAAK,CAAEuC,SAAS,CAAGrC,UAAU,CAACuC,gBAAgB,CAACf,UAAU,CAAC,CAAGb,YAAY,CAACa,UAAW,CACrF6G,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,YAAY,CACzB,CAAC,EACA,CAAC,EACH,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,gBAAc,CAAO,CAAC,cAC7BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,gBAAgB,CACrBvF,KAAK,CAAEuC,SAAS,CAAGrC,UAAU,CAACuC,gBAAgB,CAACd,cAAc,CAAC,CAAGd,YAAY,CAACc,cAAe,CAC7F4G,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,YAAY,CACzB,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,aAAa,CAClBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACb,WAAW,CAAGf,YAAY,CAACe,WAAY,CAC3EjB,OAAO,CAAEA,OAAO,CAACiB,WAAW,EAAI,EAAG,CACnC2G,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,oCAAoC,CACjD,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,gBAAc,CAAO,CAAC,cAC7BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,gBAAgB,CACrBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACZ,cAAc,CAAGhB,YAAY,CAACgB,cAAe,CACjF0G,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,6BAA6B,CAC1C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,YAAY,CACjBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACX,UAAU,CAAGjB,YAAY,CAACiB,UAAW,CACzEyG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,sBAAsB,CACnC,CAAC,EACA,CAAC,EACH,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,oBAAkB,CAAO,CAAC,cACjCxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,oBAAoB,CACzBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACV,kBAAkB,CAAGlB,YAAY,CAACkB,kBAAmB,CACzFwG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,gCAAgC,CAC7C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,kBAAkB,CACvBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACT,gBAAgB,CAAGnB,YAAY,CAACmB,gBAAiB,CACrFuG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,+BAA+B,CAC5C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,kBAAkB,CACvBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACR,gBAAgB,CAAGpB,YAAY,CAACoB,gBAAiB,CACrFsG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,+BAA+B,CAC5C,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,kBAAkB,CACvBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACP,gBAAgB,CAAGrB,YAAY,CAACqB,gBAAiB,CACrFqG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,4BAA4B,CACzC,CAAC,EACA,CAAC,EACH,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACEtI,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,kBAAkB,CACvBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACN,gBAAgB,CAAGtB,YAAY,CAACsB,gBAAiB,CACrFxB,OAAO,CAAEA,OAAO,CAACwB,gBAAgB,EAAI,EAAG,CACxCoG,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,+CAA4C,CACzD,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,KAAG,CAAO,CAAC,cAClBxI,IAAA,CAACkK,cAAc,EACb5D,IAAI,CAAC,KAAK,CACVvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACL,GAAG,CAAGvB,YAAY,CAACuB,GAAI,CAC3DzB,OAAO,CAAEA,OAAO,CAACyB,GAAG,EAAI,EAAG,CAC3BmG,QAAQ,CAAElD,YAAa,CACvBqD,WAAW,CAAC,4BAA4B,CACzC,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,aAAa,CAClBvF,KAAK,CAAEuC,SAAS,CAAGrC,UAAU,CAACuC,gBAAgB,CAACJ,WAAW,CAAC,CAAGxB,YAAY,CAACwB,WAAY,CACvFkG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,YAAY,CACzB,CAAC,EACA,CAAC,cACLvJ,KAAA,OAAAsI,QAAA,eACExI,IAAA,UAAAwI,QAAA,CAAO,aAAW,CAAO,CAAC,cAC1BxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAC,aAAa,CAClBvF,KAAK,CAAEuC,SAAS,CAAGE,gBAAgB,CAACH,WAAW,CAAGzB,YAAY,CAACyB,WAAY,CAC3EiG,QAAQ,CAAElD,YAAa,CACvBqC,SAAS,CAAC,aAAa,CACvBgB,WAAW,CAAC,uBAAuB,CACpC,CAAC,EACA,CAAC,EACH,CAAC,EACA,CAAC,CACH,CAAC,CACPnG,SAAS,cACRtD,IAAA,WAAQ0I,OAAO,CAAEzC,qBAAsB,CAAAuC,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cAEjExI,IAAA,WAAQ0I,OAAO,CAAEpD,kBAAmB,CAAAkD,QAAA,CAAC,eAAa,CAAQ,CAC3D,EACE,CAAC,cAENtI,KAAA,QAAKuI,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eAC1DxI,IAAA,OAAAwI,QAAA,CAAI,6BAAqB,CAAI,CAAC,CAC7B/H,MAAM,CAACwG,IAAI,CAAC5C,eAAe,CAAC,CAACzD,GAAG,CAAEiJ,SAAS,EAC1CxF,eAAe,CAACwF,SAAS,CAAC,CAACjJ,GAAG,CAAC,CAAC2G,WAAW,CAAEc,KAAK,gBAChDnI,KAAA,SAAoCuI,SAAS,CAAC,8BAA8B,CAAAD,QAAA,KAAAvD,MAAA,CACtE4E,SAAS,OAAA5E,MAAA,CAAKsC,WAAW,EAAG,GAAC,cAAAvH,IAAA,WAAQ0I,OAAO,CAAEA,CAAA,GAAMkB,kBAAkB,CAACC,SAAS,CAAEtC,WAAW,CAAE,CAAAiB,QAAA,CAAC,GAAC,CAAQ,CAAC,MAAAvD,MAAA,CADlG4E,SAAS,MAAA5E,MAAA,CAAIoD,KAAK,CAE1B,CACP,CACF,CAAC,EACC,CAAC,cACNrI,IAAA,QAAKyI,SAAS,CAAC,kCAAkC,CAAAD,QAAA,cACjDxI,IAAA,CAACoK,KAAK,EAACzB,OAAO,CAAEA,OAAQ,CAACvI,IAAI,CAAEA,IAAK,CAAE,CAAC,CACpC,CAAC,cACNF,KAAA,QAAKuI,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCxI,IAAA,WAAQ0I,OAAO,CAAEA,CAAA,GAAMgB,qBAAqB,CAAC,CAAC,CAAE,CAACW,QAAQ,CAAE1G,WAAW,GAAK,CAAE,CAAA6E,QAAA,CAAE,IAAI,CAAS,CAAC,cAC7FxI,IAAA,WAAQ0I,OAAO,CAAEA,CAAA,GAAMgB,qBAAqB,CAAC/F,WAAW,CAAG,CAAC,CAAE,CAAC0G,QAAQ,CAAE1G,WAAW,GAAK,CAAE,CAAA6E,QAAA,CAAE,WAAW,CAAS,CAAC,cAClHtI,KAAA,SAAAsI,QAAA,EAAM,OACC,CAAC7E,WAAW,CAAC,MAAI,CAAC2G,IAAI,CAACC,IAAI,CAACzD,qBAAqB,CAACvG,MAAM,CAAGsD,WAAW,CAAC,EACxE,CAAC,cACP7D,IAAA,WAAQ0I,OAAO,CAAEA,CAAA,GAAMgB,qBAAqB,CAAC/F,WAAW,CAAG,CAAC,CAAE,CAAC0G,QAAQ,CAAE1G,WAAW,GAAK2G,IAAI,CAACC,IAAI,CAACzD,qBAAqB,CAACvG,MAAM,CAAGsD,WAAW,CAAE,CAAA2E,QAAA,CAAE,SAAS,CAAS,CAAC,cACpKxI,IAAA,WAAQ0I,OAAO,CAAEA,CAAA,GAAMgB,qBAAqB,CAACY,IAAI,CAACC,IAAI,CAACzD,qBAAqB,CAACvG,MAAM,CAAGsD,WAAW,CAAC,CAAE,CAACwG,QAAQ,CAAE1G,WAAW,GAAK2G,IAAI,CAACC,IAAI,CAACzD,qBAAqB,CAACvG,MAAM,CAAGsD,WAAW,CAAE,CAAA2E,QAAA,CAAE,IAAI,CAAS,CAAC,cACrMtI,KAAA,WAAQa,KAAK,CAAE8C,WAAY,CAACyF,QAAQ,CAAGjD,CAAC,EAAKvC,cAAc,CAAC0G,MAAM,CAACnE,CAAC,CAACE,MAAM,CAACxF,KAAK,CAAC,CAAE,CAAAyH,QAAA,eAClFxI,IAAA,WAAQe,KAAK,CAAE,EAAG,CAAAyH,QAAA,CAAC,SAAO,CAAQ,CAAC,cACnCxI,IAAA,WAAQe,KAAK,CAAE,EAAG,CAAAyH,QAAA,CAAC,SAAO,CAAQ,CAAC,cACnCxI,IAAA,WAAQe,KAAK,CAAE,EAAG,CAAAyH,QAAA,CAAC,SAAO,CAAQ,CAAC,cACnCxI,IAAA,WAAQe,KAAK,CAAE,GAAI,CAAAyH,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC/B,CAAC,EACN,CAAC,EACH,CAAC,CAER,CAAC,CAED,KAAM,CAAA4B,KAAK,CAAGK,KAAA,EAAuB,IAAtB,CAAE9B,OAAO,CAAEvI,IAAK,CAAC,CAAAqK,KAAA,CAC9B,KAAM,CACJC,aAAa,CACbC,iBAAiB,CACjBC,YAAY,CACZC,IAAI,CACJC,UACF,CAAC,CAAGnL,QAAQ,CACV,CACEgJ,OAAO,CACPvI,IACF,CAAC,CACDP,UAAU,CACVD,SACF,CAAC,CAED,mBACEM,KAAA,aAAWwK,aAAa,CAAC,CAAC,CAAEjC,SAAS,CAAC,wCAAwC,CAAAD,QAAA,eAC5ExI,IAAA,UAAAwI,QAAA,CACGoC,YAAY,CAAChK,GAAG,CAACmK,WAAW,eAC3B/K,IAAA,UAAQ+K,WAAW,CAACC,mBAAmB,CAAC,CAAC,CAAAxC,QAAA,CACtCuC,WAAW,CAAChG,OAAO,CAACnE,GAAG,CAACwI,MAAM,eAC7BpJ,IAAA,UAAQoJ,MAAM,CAAC6B,cAAc,CAAC7B,MAAM,CAAC8B,oBAAoB,CAAC,CAAC,CAAC,CAAA1C,QAAA,cAC1DtI,KAAA,QAAAsI,QAAA,EACGY,MAAM,CAAC+B,MAAM,CAAC,QAAQ,CAAC,cACxBnL,IAAA,SAAAwI,QAAA,CACGY,MAAM,CAACgC,QAAQ,CACZhC,MAAM,CAACiC,YAAY,CACjB,KAAK,CACL,KAAK,CACP,EAAE,CACF,CAAC,cACPrL,IAAA,QAAAwI,QAAA,CAAMY,MAAM,CAACkC,SAAS,CAAGlC,MAAM,CAAC+B,MAAM,CAAC,QAAQ,CAAC,CAAG,IAAI,CAAM,CAAC,EAC3D,CAAC,CACJ,CACL,CAAC,CACA,CACL,CAAC,CACG,CAAC,cACRnL,IAAA,aAAW2K,iBAAiB,CAAC,CAAC,CAAAnC,QAAA,CAC3BqC,IAAI,CAACjK,GAAG,CAAC,CAACuG,GAAG,CAAEkB,KAAK,GAAK,CACxByC,UAAU,CAAC3D,GAAG,CAAC,CACf,mBACEnH,IAAA,UAAQmH,GAAG,CAACoE,WAAW,CAAC,CAAC,CAAE9C,SAAS,CAAEJ,KAAK,CAAG,CAAC,GAAK,CAAC,CAAG,2BAA2B,CAAG,0BAA2B,CAAAG,QAAA,CAC9GrB,GAAG,CAACqE,KAAK,CAAC5K,GAAG,CAAC6K,IAAI,eACjBzL,IAAA,UAAQyL,IAAI,CAACC,YAAY,CAAC,CAAC,CAAAlD,QAAA,CAAGiD,IAAI,CAACN,MAAM,CAAC,MAAM,CAAC,CAAK,CACvD,CAAC,CACA,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,CAEZ,CAAC,CAED,KAAM,CAAAjB,cAAc,CAAGyB,KAAA,EAAqD,IAApD,CAAErF,IAAI,CAAEvF,KAAK,CAAEW,OAAO,CAAE4H,QAAQ,CAAEG,WAAY,CAAC,CAAAkC,KAAA,CACrE,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGtM,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACuM,UAAU,CAAEC,aAAa,CAAC,CAAGxM,QAAQ,CAACwB,KAAK,CAAC,CAEnD,KAAM,CAAAiL,YAAY,CAAIzC,MAAM,EAAK,CAC/BwC,aAAa,CAACxC,MAAM,CAAC1C,KAAK,CAAC,CAC3ByC,QAAQ,CAAC,CAAE/C,MAAM,CAAE,CAAED,IAAI,CAAEvF,KAAK,CAAEwI,MAAM,CAACxI,KAAM,CAAE,CAAC,CAAC,CACnD8K,SAAS,CAAC,KAAK,CAAC,CAClB,CAAC,CAED,KAAM,CAAAI,iBAAiB,CAAI5F,CAAC,EAAK,CAC/B0F,aAAa,CAAC1F,CAAC,CAACE,MAAM,CAACxF,KAAK,CAAC,CAC7BuI,QAAQ,CAAC,CAAE/C,MAAM,CAAE,CAAED,IAAI,CAAEvF,KAAK,CAAEsF,CAAC,CAACE,MAAM,CAACxF,KAAM,CAAE,CAAC,CAAC,CACrD8K,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,KAAM,CAAAK,eAAe,CAAGxK,OAAO,CAACoE,MAAM,CAACyD,MAAM,EAC3CA,MAAM,CAAC1C,KAAK,CAACS,WAAW,CAAC,CAAC,CAACtG,QAAQ,CAAC8K,UAAU,CAACxE,WAAW,CAAC,CAAC,CAC9D,CAAC,CAED,mBACEpH,KAAA,QAAKuI,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCxI,IAAA,UACEmK,IAAI,CAAC,MAAM,CACX7D,IAAI,CAAEA,IAAK,CACXvF,KAAK,CAAE+K,UAAW,CAClBxC,QAAQ,CAAE2C,iBAAkB,CAC5BxC,WAAW,CAAEA,WAAY,CACzBf,OAAO,CAAEA,CAAA,GAAMmD,SAAS,CAAC,CAACD,MAAM,CAAE,CACnC,CAAC,cACF5L,IAAA,QAAKyI,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAEA,CAAA,GAAMmD,SAAS,CAAC,CAACD,MAAM,CAAE,CAAApD,QAAA,CAAC,QAEnE,CAAK,CAAC,CACLoD,MAAM,eACL5L,IAAA,QAAKyI,SAAS,CAAC,eAAe,CAAAD,QAAA,CAC3B0D,eAAe,CAAC3L,MAAM,GAAK,CAAC,cAC3BP,IAAA,QAAKyI,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,sBAAoB,CAAK,CAAC,CAE3D0D,eAAe,CAACtL,GAAG,CAAC,CAAC2I,MAAM,CAAElB,KAAK,gBAChCrI,IAAA,QAAiByI,SAAS,CAAC,iBAAiB,CAACC,OAAO,CAAEA,CAAA,GAAMsD,YAAY,CAACzC,MAAM,CAAE,CAAAf,QAAA,CAC9Ee,MAAM,CAAC1C,KAAK,EADLwB,KAEL,CACN,CACF,CACE,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9G,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}