{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useTable,useSortBy,useFilters,usePagination}from'react-table';import Select from'react-select';import{useHistory}from'react-router-dom';import*as XLSX from'xlsx';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{FaSortUp,FaSortDown,FaSort}from'react-icons/fa';import'./ITEquipmentView.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ITEquipmentView=()=>{const[itEquipments,setITEquipments]=useState([]);const[originalData,setOriginalData]=useState([]);const[columns,setColumns]=useState([]);const[uniqueValues,setUniqueValues]=useState({});const[filters,setFilters]=useState({});const history=useHistory();useEffect(()=>{fetchITEquipments();},[]);const setDefaultValues=function(data){let defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'------';let defaultNumber=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const updatedData={...data};for(let key in updatedData){if(updatedData[key]===''||updatedData[key]===null){if(['date_installation','fin_garantie','date_achat','date_livraison','date_sortie'].includes(key)){updatedData[key]=null;}else if(key==='prix_achat'){updatedData[key]=defaultNumber;}else{updatedData[key]=defaultValue;}}}return updatedData;};const applyFilters=(data,filters)=>{return data.filter(item=>{return Object.keys(filters).every(key=>{if(!filters[key].length)return true;return filters[key].includes(item[key]);});});};const fetchITEquipments=async()=>{try{const response=await axios.get('http://localhost:5000/api/it-equipments',{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});if(response.data&&Array.isArray(response.data.equipments)){const data=response.data.equipments.map(_ref=>{let{createdAt,updatedAt,id,...rest}=_ref;return setDefaultValues(rest);});setOriginalData(data);// Save original data for filtering\nconst headers=Object.keys(data[0]||{});const uniqueValues={};headers.forEach(header=>{uniqueValues[header]=[...new Set(data.map(item=>item[header]))].map(value=>({value,label:value}));});const cols=[{Header:'#',accessor:(row,i)=>i+1,disableFilters:true,disableSortBy:true,width:50},...headers.map(header=>({Header:header.replace(/_/g,' '),accessor:header,Filter:props=>/*#__PURE__*/_jsx(SelectColumnFilter,{...props,uniqueValues:uniqueValues[header],globalSetFilters:setFilters,originalData:data,setITEquipments:setITEquipments,applyFilters:applyFilters})}))];setColumns(cols);setUniqueValues(uniqueValues);setITEquipments(applyFilters(data,filters));// Apply filters to the data\n}else{toast.error('Error fetching IT equipments');}}catch(error){toast.error('Error fetching IT equipments: '+error.message);}};useEffect(()=>{if(originalData.length){setITEquipments(applyFilters(originalData,filters));}},[filters,originalData]);const handleDelete=(filterKey,value)=>{setFilters(prev=>{const updatedFilters={...prev};updatedFilters[filterKey]=updatedFilters[filterKey].filter(val=>val!==value);if(updatedFilters[filterKey].length===0){delete updatedFilters[filterKey];}return updatedFilters;});};const Table=_ref2=>{let{columns,data}=_ref2;const defaultColumn={minWidth:30,width:150,maxWidth:400};const{getTableProps,getTableBodyProps,headerGroups,prepareRow,page,canPreviousPage,canNextPage,pageOptions,state:{pageIndex,pageSize},gotoPage,nextPage,previousPage,setPageSize}=useTable({columns,data,defaultColumn,initialState:{pageIndex:0}},useFilters,useSortBy,usePagination);return/*#__PURE__*/_jsxs(\"div\",{className:\"itequipment-view-table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{...getTableProps(),className:\"itequipment-view-data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(headerGroup=>/*#__PURE__*/_jsx(\"tr\",{...headerGroup.getHeaderGroupProps(),children:headerGroup.headers.map(column=>/*#__PURE__*/_jsx(\"th\",{...column.getHeaderProps(column.getSortByToggleProps()),children:/*#__PURE__*/_jsxs(\"div\",{style:{width:column.width},children:[column.render('Header'),/*#__PURE__*/_jsx(\"span\",{children:column.isSorted?column.isSortedDesc?/*#__PURE__*/_jsx(FaSortDown,{}):/*#__PURE__*/_jsx(FaSortUp,{}):/*#__PURE__*/_jsx(FaSort,{})}),/*#__PURE__*/_jsx(\"div\",{children:column.canFilter?column.render('Filter'):null})]})}))}))}),/*#__PURE__*/_jsx(\"tbody\",{...getTableBodyProps(),children:page.map((row,rowIndex)=>{prepareRow(row);return/*#__PURE__*/_jsx(\"tr\",{...row.getRowProps(),className:rowIndex%2===0?'itequipment-view-row-even':'itequipment-view-row-odd',children:row.cells.map(cell=>/*#__PURE__*/_jsx(\"td\",{...cell.getCellProps(),children:cell.render('Cell')}))});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>gotoPage(0),disabled:!canPreviousPage,children:'<<'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>previousPage(),disabled:!canPreviousPage,children:'Précédent'}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[pageIndex+1,\" of \",pageOptions.length]}),' ']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>nextPage(),disabled:!canNextPage,children:'Suivant'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>gotoPage(pageOptions.length-1),disabled:!canNextPage,children:'>>'}),/*#__PURE__*/_jsx(\"select\",{value:pageSize,onChange:e=>{setPageSize(Number(e.target.value));},children:[10,25,50,100].map(pageSize=>/*#__PURE__*/_jsxs(\"option\",{value:pageSize,children:[\"Show \",pageSize]},pageSize))})]})]});};const exportToExcel=data=>{const ws=XLSX.utils.json_to_sheet(data);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,\"ITEquipments\");XLSX.writeFile(wb,\"ITEquipments.xlsx\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"itequipment-view-container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"button\",{className:\"itequipment-view-back-button\",onClick:()=>history.push('/it-equipment'),children:\"\\u21A9\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"itequipment-view-title\",children:\"Afficher IT Equipments\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"itequipment-view-selected-filters-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filtres S\\xE9lectionn\\xE9s:\"}),Object.keys(filters).map(filterKey=>filters[filterKey].map((filterValue,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"itequipment-view-filter-chip\",children:[\"\".concat(filterKey,\": \").concat(filterValue),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(filterKey,filterValue),children:\"x\"})]},\"\".concat(filterKey,\"-\").concat(index))))]}),/*#__PURE__*/_jsx(\"div\",{className:\"itequipment-view-filters-container\",children:columns.map(column=>column.canFilter?/*#__PURE__*/_jsxs(\"div\",{className:\"itequipment-view-filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:column.render('Header')}),column.render('Filter')]},column.id):null)}),columns.length>0&&/*#__PURE__*/_jsx(Table,{columns:columns,data:itEquipments// Use filtered data\n}),/*#__PURE__*/_jsx(\"div\",{className:\"itequipment-view-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"itequipment-view-export-button\",onClick:()=>exportToExcel(itEquipments),children:\"Export to Excel\"})})]});};const SelectColumnFilter=_ref3=>{let{column:{filterValue=[],setFilter,id},uniqueValues,globalSetFilters,originalData,// Receive originalData as a prop\nsetITEquipments,applyFilters}=_ref3;const[selectedOptions,setSelectedOptions]=useState(()=>filterValue.map(val=>({value:val,label:val})));const handleChange=selected=>{const values=selected?selected.map(option=>option.value):[];setSelectedOptions(selected);setFilter(values.length?values:undefined);// Use undefined to clear the filter\nglobalSetFilters(prev=>{const updatedFilters={...prev,[id]:values};setITEquipments(applyFilters(originalData,updatedFilters));// Apply filters to the data\nreturn updatedFilters;});};return/*#__PURE__*/_jsx(\"div\",{className:\"itequipment-view-filter-container\",children:/*#__PURE__*/_jsx(Select,{value:selectedOptions,onChange:handleChange,options:uniqueValues,isMulti:true,placeholder:'Filter by...',className:\"itequipment-view-filter-select\"})});};export default ITEquipmentView;","map":{"version":3,"names":["React","useState","useEffect","axios","useTable","useSortBy","useFilters","usePagination","Select","useHistory","XLSX","ToastContainer","toast","FaSortUp","FaSortDown","FaSort","jsx","_jsx","jsxs","_jsxs","ITEquipmentView","itEquipments","setITEquipments","originalData","setOriginalData","columns","setColumns","uniqueValues","setUniqueValues","filters","setFilters","history","fetchITEquipments","setDefaultValues","data","defaultValue","arguments","length","undefined","defaultNumber","updatedData","key","includes","applyFilters","filter","item","Object","keys","every","response","get","headers","Authorization","concat","localStorage","getItem","Array","isArray","equipments","map","_ref","createdAt","updatedAt","id","rest","forEach","header","Set","value","label","cols","Header","accessor","row","i","disableFilters","disableSortBy","width","replace","Filter","props","SelectColumnFilter","globalSetFilters","error","message","handleDelete","filterKey","prev","updatedFilters","val","Table","_ref2","defaultColumn","minWidth","maxWidth","getTableProps","getTableBodyProps","headerGroups","prepareRow","page","canPreviousPage","canNextPage","pageOptions","state","pageIndex","pageSize","gotoPage","nextPage","previousPage","setPageSize","initialState","className","children","headerGroup","getHeaderGroupProps","column","getHeaderProps","getSortByToggleProps","style","render","isSorted","isSortedDesc","canFilter","rowIndex","getRowProps","cells","cell","getCellProps","onClick","disabled","onChange","e","Number","target","exportToExcel","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","push","filterValue","index","_ref3","setFilter","selectedOptions","setSelectedOptions","handleChange","selected","values","option","options","isMulti","placeholder"],"sources":["C:/Users/khald/OneDrive/Desktop/Project_gestion_initial/server/client/src/components/Dashboard/ITEquipmentView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useTable, useSortBy, useFilters, usePagination } from 'react-table';\r\nimport Select from 'react-select';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as XLSX from 'xlsx';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { FaSortUp, FaSortDown, FaSort } from 'react-icons/fa';\r\n\r\nimport './ITEquipmentView.css';\r\n\r\nconst ITEquipmentView = () => {\r\n  const [itEquipments, setITEquipments] = useState([]);\r\n  const [originalData, setOriginalData] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [uniqueValues, setUniqueValues] = useState({});\r\n  const [filters, setFilters] = useState({});\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchITEquipments();\r\n  }, []);\r\n\r\n  const setDefaultValues = (data, defaultValue = '------', defaultNumber = 0) => {\r\n    const updatedData = { ...data };\r\n    for (let key in updatedData) {\r\n      if (updatedData[key] === '' || updatedData[key] === null) {\r\n        if (['date_installation', 'fin_garantie', 'date_achat', 'date_livraison', 'date_sortie'].includes(key)) {\r\n          updatedData[key] = null;\r\n        } else if (key === 'prix_achat') {\r\n          updatedData[key] = defaultNumber;\r\n        } else {\r\n          updatedData[key] = defaultValue;\r\n        }\r\n      }\r\n    }\r\n    return updatedData;\r\n  };\r\n\r\n  const applyFilters = (data, filters) => {\r\n    return data.filter(item => {\r\n      return Object.keys(filters).every(key => {\r\n        if (!filters[key].length) return true;\r\n        return filters[key].includes(item[key]);\r\n      });\r\n    });\r\n  };\r\n\r\n  const fetchITEquipments = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:5000/api/it-equipments', {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n\r\n      if (response.data && Array.isArray(response.data.equipments)) {\r\n        const data = response.data.equipments.map(({ createdAt, updatedAt, id, ...rest }) => setDefaultValues(rest));\r\n        setOriginalData(data);  // Save original data for filtering\r\n\r\n        const headers = Object.keys(data[0] || {});\r\n        const uniqueValues = {};\r\n\r\n        headers.forEach(header => {\r\n          uniqueValues[header] = [...new Set(data.map(item => item[header]))].map(value => ({ value, label: value }));\r\n        });\r\n\r\n        const cols = [\r\n          {\r\n            Header: '#',\r\n            accessor: (row, i) => i + 1,\r\n            disableFilters: true,\r\n            disableSortBy: true,\r\n            width: 50,\r\n          },\r\n          ...headers.map((header) => ({\r\n            Header: header.replace(/_/g, ' '),\r\n            accessor: header,\r\n            Filter: props => (\r\n              <SelectColumnFilter\r\n                {...props}\r\n                uniqueValues={uniqueValues[header]}\r\n                globalSetFilters={setFilters}\r\n                originalData={data}\r\n                setITEquipments={setITEquipments}\r\n                applyFilters={applyFilters}\r\n              />\r\n            ),\r\n          })),\r\n        ];\r\n\r\n        setColumns(cols);\r\n        setUniqueValues(uniqueValues);\r\n        setITEquipments(applyFilters(data, filters));  // Apply filters to the data\r\n      } else {\r\n        toast.error('Error fetching IT equipments');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Error fetching IT equipments: ' + error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (originalData.length) {\r\n      setITEquipments(applyFilters(originalData, filters));\r\n    }\r\n  }, [filters, originalData]);\r\n\r\n  const handleDelete = (filterKey, value) => {\r\n    setFilters(prev => {\r\n      const updatedFilters = { ...prev };\r\n      updatedFilters[filterKey] = updatedFilters[filterKey].filter(val => val !== value);\r\n      if (updatedFilters[filterKey].length === 0) {\r\n        delete updatedFilters[filterKey];\r\n      }\r\n      return updatedFilters;\r\n    });\r\n  };\r\n\r\n  const Table = ({ columns, data }) => {\r\n    const defaultColumn = {\r\n      minWidth: 30,\r\n      width: 150,\r\n      maxWidth: 400,\r\n    };\r\n\r\n    const {\r\n      getTableProps,\r\n      getTableBodyProps,\r\n      headerGroups,\r\n      prepareRow,\r\n      page,\r\n      canPreviousPage,\r\n      canNextPage,\r\n      pageOptions,\r\n      state: { pageIndex, pageSize },\r\n      gotoPage,\r\n      nextPage,\r\n      previousPage,\r\n      setPageSize,\r\n    } = useTable(\r\n      {\r\n        columns,\r\n        data,\r\n        defaultColumn,\r\n        initialState: { pageIndex: 0 },\r\n      },\r\n      useFilters,\r\n      useSortBy,\r\n      usePagination\r\n    );\r\n\r\n    return (\r\n      <div className=\"itequipment-view-table-container\">\r\n        <table {...getTableProps()} className=\"itequipment-view-data-table\">\r\n          <thead>\r\n            {headerGroups.map(headerGroup => (\r\n              <tr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map(column => (\r\n                  <th {...column.getHeaderProps(column.getSortByToggleProps())}>\r\n                    <div style={{ width: column.width }}>\r\n                      {column.render('Header')}\r\n                      <span>\r\n                        {column.isSorted ? (\r\n                          column.isSortedDesc ? (\r\n                            <FaSortDown />\r\n                          ) : (\r\n                            <FaSortUp />\r\n                          )\r\n                        ) : (\r\n                          <FaSort />\r\n                        )}\r\n                      </span>\r\n                      <div>\r\n                        {column.canFilter ? column.render('Filter') : null}\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </thead>\r\n          <tbody {...getTableBodyProps()}>\r\n            {page.map((row, rowIndex) => {\r\n              prepareRow(row);\r\n              return (\r\n                <tr {...row.getRowProps()} className={rowIndex % 2 === 0 ? 'itequipment-view-row-even' : 'itequipment-view-row-odd'}>\r\n                  {row.cells.map(cell => (\r\n                    <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                  ))}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n        <div className=\"pagination-controls\">\r\n          <button onClick={() => gotoPage(0)} disabled={!canPreviousPage}>{'<<'}</button>\r\n          <button onClick={() => previousPage()} disabled={!canPreviousPage}>{'Précédent'}</button>\r\n          <span>\r\n            Page{' '}\r\n            <strong>\r\n              {pageIndex + 1} of {pageOptions.length}\r\n            </strong>{' '}\r\n          </span>\r\n          <button onClick={() => nextPage()} disabled={!canNextPage}>{'Suivant'}</button>\r\n          <button onClick={() => gotoPage(pageOptions.length - 1)} disabled={!canNextPage}>{'>>'}</button>\r\n          <select\r\n            value={pageSize}\r\n            onChange={e => {\r\n              setPageSize(Number(e.target.value));\r\n            }}\r\n          >\r\n            {[10, 25, 50, 100].map(pageSize => (\r\n              <option key={pageSize} value={pageSize}>\r\n                Show {pageSize}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const exportToExcel = (data) => {\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"ITEquipments\");\r\n    XLSX.writeFile(wb, \"ITEquipments.xlsx\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"itequipment-view-container\">\r\n      <ToastContainer />\r\n      <button className=\"itequipment-view-back-button\" onClick={() => history.push('/it-equipment')}>\r\n        &#x21a9;\r\n      </button>\r\n      <h1 className=\"itequipment-view-title\">Afficher IT Equipments</h1>\r\n      <div className=\"itequipment-view-selected-filters-container\">\r\n        <h3>Filtres Sélectionnés:</h3>\r\n        {Object.keys(filters).map((filterKey) => (\r\n          filters[filterKey].map((filterValue, index) => (\r\n            <span key={`${filterKey}-${index}`} className=\"itequipment-view-filter-chip\">\r\n              {`${filterKey}: ${filterValue}`} <button onClick={() => handleDelete(filterKey, filterValue)}>x</button>\r\n            </span>\r\n          ))\r\n        ))}\r\n      </div>\r\n      <div className=\"itequipment-view-filters-container\">\r\n        {columns.map(column => (\r\n          column.canFilter ? (\r\n            <div key={column.id} className=\"itequipment-view-filter\">\r\n              <label>{column.render('Header')}</label>\r\n              {column.render('Filter')}\r\n            </div>\r\n          ) : null\r\n        ))}\r\n      </div>\r\n      {columns.length > 0 && (\r\n        <Table\r\n          columns={columns}\r\n          data={itEquipments}  // Use filtered data\r\n        />\r\n      )}\r\n      <div className=\"itequipment-view-footer\">\r\n        <button\r\n          className=\"itequipment-view-export-button\"\r\n          onClick={() => exportToExcel(itEquipments)}\r\n        >\r\n          Export to Excel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SelectColumnFilter = ({\r\n  column: { filterValue = [], setFilter, id },\r\n  uniqueValues,\r\n  globalSetFilters,\r\n  originalData,  // Receive originalData as a prop\r\n  setITEquipments,\r\n  applyFilters,\r\n}) => {\r\n  const [selectedOptions, setSelectedOptions] = useState(() =>\r\n    filterValue.map(val => ({ value: val, label: val }))\r\n  );\r\n\r\n  const handleChange = (selected) => {\r\n    const values = selected ? selected.map(option => option.value) : [];\r\n    setSelectedOptions(selected);\r\n    setFilter(values.length ? values : undefined); // Use undefined to clear the filter\r\n    globalSetFilters(prev => {\r\n      const updatedFilters = { ...prev, [id]: values };\r\n      setITEquipments(applyFilters(originalData, updatedFilters));  // Apply filters to the data\r\n      return updatedFilters;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"itequipment-view-filter-container\">\r\n      <Select\r\n        value={selectedOptions}\r\n        onChange={handleChange}\r\n        options={uniqueValues}\r\n        isMulti\r\n        placeholder={'Filter by...'}\r\n        className=\"itequipment-view-filter-select\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ITEquipmentView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}