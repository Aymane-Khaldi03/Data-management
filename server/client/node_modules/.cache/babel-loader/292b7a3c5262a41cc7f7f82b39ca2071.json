{"ast":null,"code":"import React,{useState}from'react';import{useHistory}from'react-router-dom';import Modal from'react-modal';import{useAuth}from'../../hooks/useAuth';// Ensure you have this hook to get user info\nimport'./TelephoneLineLanding.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement('#root');const TelephoneLineLanding=()=>{const history=useHistory();const{user}=useAuth();// Get the user info including the role\nconst[modalIsOpen,setModalIsOpen]=useState(false);const openModal=()=>{setModalIsOpen(true);};const closeModal=()=>{setModalIsOpen(false);};const handleModifyClick=()=>{if(user&&user.role==='admin'){history.push('/telephone-line-manager');// Change this path to the modify page path\n}else{openModal();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"telephone-landing-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"telephone-card telephone-view-card\",onClick:()=>history.push('/telephone-line-view'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"telephone-card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Afficher Line T\\xE9l\\xE9phonique\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u29BFVoir tableau \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u29BFExporter Excel\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"telephone-card telephone-modify-card\",onClick:handleModifyClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"telephone-card-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Modifier Line T\\xE9l\\xE9phonique\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u29BFPlus d'infos\"})]})}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,contentLabel:\"Access Denied\",className:\"modal\",overlayClassName:\"overlay\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You do not have permission to modify this page.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,children:\"Close\"})]})]});};export default TelephoneLineLanding;","map":{"version":3,"names":["React","useState","useHistory","Modal","useAuth","jsx","_jsx","jsxs","_jsxs","setAppElement","TelephoneLineLanding","history","user","modalIsOpen","setModalIsOpen","openModal","closeModal","handleModifyClick","role","push","className","children","onClick","isOpen","onRequestClose","contentLabel","overlayClassName"],"sources":["C:/Users/khald/OneDrive/Desktop/Project_gestion_initial/server/client/src/components/Dashboard/TelephoneLineLanding.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport { useAuth } from '../../hooks/useAuth'; // Ensure you have this hook to get user info\r\nimport './TelephoneLineLanding.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst TelephoneLineLanding = () => {\r\n  const history = useHistory();\r\n  const { user } = useAuth(); // Get the user info including the role\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    setModalIsOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalIsOpen(false);\r\n  };\r\n\r\n  const handleModifyClick = () => {\r\n    if (user && user.role === 'admin') {\r\n      history.push('/telephone-line-manager'); // Change this path to the modify page path\r\n    } else {\r\n      openModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"telephone-landing-container\">\r\n      <div className=\"telephone-card telephone-view-card\" onClick={() => history.push('/telephone-line-view')}>\r\n        <div className=\"telephone-card-content\">\r\n          <h3>Afficher Line Téléphonique</h3>\r\n          <p>⦿Voir tableau <br />⦿Exporter Excel</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"telephone-card telephone-modify-card\" onClick={handleModifyClick}>\r\n        <div className=\"telephone-card-content\">\r\n          <h3>Modifier Line Téléphonique</h3>\r\n          <p>⦿Plus d'infos</p>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onRequestClose={closeModal}\r\n        contentLabel=\"Access Denied\"\r\n        className=\"modal\"\r\n        overlayClassName=\"overlay\"\r\n      >\r\n        <h2>Access Denied</h2>\r\n        <p>You do not have permission to modify this page.</p>\r\n        <button onClick={closeModal}>Close</button>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TelephoneLineLanding;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,OAASC,OAAO,KAAQ,qBAAqB,CAAE;AAC/C,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpCL,KAAK,CAACM,aAAa,CAAC,OAAO,CAAC,CAE5B,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,OAAO,CAAGT,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAEU,IAAK,CAAC,CAAGR,OAAO,CAAC,CAAC,CAAE;AAC5B,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAAAc,SAAS,CAAGA,CAAA,GAAM,CACtBD,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED,KAAM,CAAAE,UAAU,CAAGA,CAAA,GAAM,CACvBF,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAIL,IAAI,EAAIA,IAAI,CAACM,IAAI,GAAK,OAAO,CAAE,CACjCP,OAAO,CAACQ,IAAI,CAAC,yBAAyB,CAAC,CAAE;AAC3C,CAAC,IAAM,CACLJ,SAAS,CAAC,CAAC,CACb,CACF,CAAC,CAED,mBACEP,KAAA,QAAKY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1Cf,IAAA,QAAKc,SAAS,CAAC,oCAAoC,CAACE,OAAO,CAAEA,CAAA,GAAMX,OAAO,CAACQ,IAAI,CAAC,sBAAsB,CAAE,CAAAE,QAAA,cACtGb,KAAA,QAAKY,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCf,IAAA,OAAAe,QAAA,CAAI,kCAA0B,CAAI,CAAC,cACnCb,KAAA,MAAAa,QAAA,EAAG,qBAAc,cAAAf,IAAA,QAAK,CAAC,uBAAe,EAAG,CAAC,EACvC,CAAC,CACH,CAAC,cACNA,IAAA,QAAKc,SAAS,CAAC,sCAAsC,CAACE,OAAO,CAAEL,iBAAkB,CAAAI,QAAA,cAC/Eb,KAAA,QAAKY,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCf,IAAA,OAAAe,QAAA,CAAI,kCAA0B,CAAI,CAAC,cACnCf,IAAA,MAAAe,QAAA,CAAG,oBAAa,CAAG,CAAC,EACjB,CAAC,CACH,CAAC,cACNb,KAAA,CAACL,KAAK,EACJoB,MAAM,CAAEV,WAAY,CACpBW,cAAc,CAAER,UAAW,CAC3BS,YAAY,CAAC,eAAe,CAC5BL,SAAS,CAAC,OAAO,CACjBM,gBAAgB,CAAC,SAAS,CAAAL,QAAA,eAE1Bf,IAAA,OAAAe,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBf,IAAA,MAAAe,QAAA,CAAG,iDAA+C,CAAG,CAAC,cACtDf,IAAA,WAAQgB,OAAO,CAAEN,UAAW,CAAAK,QAAA,CAAC,OAAK,CAAQ,CAAC,EACtC,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAX,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module"}