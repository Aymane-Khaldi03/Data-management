{"ast":null,"code":"import React from'react';import{Route,Switch,Redirect,useLocation,BrowserRouter as Router}from'react-router-dom';import Home from'./pages/Home';import Login from'./components/Auth/Login';import Signup from'./components/Auth/Signup';import AdminDashboard from'./pages/AdminDashboard';import ConsultantDashboard from'./pages/ConsultantDashboard';import Navbar from'./components/Shared/Navbar';import Sidebar from'./components/Shared/Sidebar';import{AuthProvider,useAuth}from'./hooks/useAuth';import ExcelEditor from'./components/Dashboard/ExcelEditor';import ITEquipmentLanding from'./components/Dashboard/ITEquipmentLanding';import ITEquipmentView from'./components/Dashboard/ITEquipmentView';import ITEquipment from'./components/Dashboard/ITEquipment';import TelecomPack from'./components/Dashboard/TelecomPack';import TelecomPackLanding from'./components/Dashboard/TelecomPackLanding';import TelecomPackView from'./components/Dashboard/TelecomPackView';import TelephoneLine from'./components/Dashboard/TelephoneLine';import TelephoneLineLanding from'./components/Dashboard/TelephoneLineLanding';import TelephoneLineView from'./components/Dashboard/TelephoneLineView';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppContent=()=>{const{user,loading}=useAuth();const location=useLocation();const showSidebar=!['/','/signup','/login'].includes(location.pathname);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!user&&location.pathname!=='/login'&&location.pathname!=='/signup'&&location.pathname!=='/'){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}const getDashboardComponent=()=>{switch(user===null||user===void 0?void 0:user.role){case'admin':return/*#__PURE__*/_jsx(AdminDashboard,{});case'consultant':return/*#__PURE__*/_jsx(ConsultantDashboard,{});default:return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content \".concat(showSidebar?'with-sidebar':''),children:[showSidebar&&/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",component:Signup}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",render:getDashboardComponent}),/*#__PURE__*/_jsx(Route,{path:\"/it-equipment\",exact:true,component:ITEquipmentLanding}),/*#__PURE__*/_jsx(Route,{path:\"/it-equipment-manager\",component:ITEquipment}),/*#__PURE__*/_jsx(Route,{path:\"/it-equipment-view\",component:ITEquipmentView}),/*#__PURE__*/_jsx(Route,{path:\"/telecom-packs\",exact:true,component:TelecomPackLanding}),/*#__PURE__*/_jsx(Route,{path:\"/telecom-pack-manager\",component:TelecomPack}),/*#__PURE__*/_jsx(Route,{path:\"/telecom-pack-view\",component:TelecomPackView}),/*#__PURE__*/_jsx(Route,{path:\"/telephone-lines\",exact:true,component:TelephoneLineLanding}),/*#__PURE__*/_jsx(Route,{path:\"/telephone-line-manager\",component:TelephoneLine}),/*#__PURE__*/_jsx(Route,{path:\"/telephone-line-view\",component:TelephoneLineView}),/*#__PURE__*/_jsx(Route,{path:\"/edit-excel\",component:ExcelEditor}),/*#__PURE__*/_jsx(Route,{path:\"*\",children:user?/*#__PURE__*/_jsx(Redirect,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})})]})]})]});};const App=()=>/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})})});export default App;","map":{"version":3,"names":["React","Route","Switch","Redirect","useLocation","BrowserRouter","Router","Home","Login","Signup","AdminDashboard","ConsultantDashboard","Navbar","Sidebar","AuthProvider","useAuth","ExcelEditor","ITEquipmentLanding","ITEquipmentView","ITEquipment","TelecomPack","TelecomPackLanding","TelecomPackView","TelephoneLine","TelephoneLineLanding","TelephoneLineView","jsx","_jsx","jsxs","_jsxs","AppContent","user","loading","location","showSidebar","includes","pathname","children","to","getDashboardComponent","role","className","concat","path","exact","component","render","App"],"sources":["C:/Users/khald/OneDrive/Desktop/Project_gestion_initial/server/client/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Route, Switch, Redirect, useLocation, BrowserRouter as Router } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\nimport Login from './components/Auth/Login';\r\nimport Signup from './components/Auth/Signup';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport ConsultantDashboard from './pages/ConsultantDashboard';\r\nimport Navbar from './components/Shared/Navbar';\r\nimport Sidebar from './components/Shared/Sidebar';\r\nimport { AuthProvider, useAuth } from './hooks/useAuth';\r\nimport ExcelEditor from './components/Dashboard/ExcelEditor';\r\nimport ITEquipmentLanding from './components/Dashboard/ITEquipmentLanding';\r\nimport ITEquipmentView from './components/Dashboard/ITEquipmentView';\r\nimport ITEquipment from './components/Dashboard/ITEquipment';\r\nimport TelecomPack from './components/Dashboard/TelecomPack';\r\nimport TelecomPackLanding from './components/Dashboard/TelecomPackLanding';\r\nimport TelecomPackView from './components/Dashboard/TelecomPackView';\r\nimport TelephoneLine from './components/Dashboard/TelephoneLine';\r\nimport TelephoneLineLanding from './components/Dashboard/TelephoneLineLanding';\r\nimport TelephoneLineView from './components/Dashboard/TelephoneLineView';\r\n\r\nimport './App.css';\r\n\r\nconst AppContent = () => {\r\n  const { user, loading } = useAuth();\r\n  const location = useLocation();\r\n\r\n  const showSidebar = !['/', '/signup', '/login'].includes(location.pathname);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (!user && location.pathname !== '/login' && location.pathname !== '/signup' && location.pathname !== '/') {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  const getDashboardComponent = () => {\r\n    switch (user?.role) {\r\n      case 'admin':\r\n        return <AdminDashboard />;\r\n      case 'consultant':\r\n        return <ConsultantDashboard />;\r\n      default:\r\n        return <Redirect to=\"/login\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar />\r\n      <div className={`main-content ${showSidebar ? 'with-sidebar' : ''}`}>\r\n        {showSidebar && <Sidebar />}\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/signup\" component={Signup} />\r\n          <Route path=\"/dashboard\" render={getDashboardComponent} />\r\n          \r\n          <Route path=\"/it-equipment\" exact component={ITEquipmentLanding} />\r\n          <Route path=\"/it-equipment-manager\" component={ITEquipment} />\r\n          <Route path=\"/it-equipment-view\" component={ITEquipmentView} />\r\n\r\n          <Route path=\"/telecom-packs\" exact component={TelecomPackLanding} />\r\n          <Route path=\"/telecom-pack-manager\" component={TelecomPack} />\r\n          <Route path=\"/telecom-pack-view\" component={TelecomPackView} />\r\n\r\n          <Route path=\"/telephone-lines\" exact component={TelephoneLineLanding} />\r\n          <Route path=\"/telephone-line-manager\" component={TelephoneLine} />\r\n          <Route path=\"/telephone-line-view\" component={TelephoneLineView} />\r\n\r\n          <Route path=\"/edit-excel\" component={ExcelEditor} />\r\n\r\n          {/* Redirect to login if trying to access other routes without authentication */}\r\n          <Route path=\"*\">\r\n            {user ? <Redirect to=\"/dashboard\" /> : <Redirect to=\"/login\" />}\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => (\r\n  <AuthProvider>\r\n    <Router>\r\n      <AppContent />\r\n    </Router>\r\n  </AuthProvider>\r\n);\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}